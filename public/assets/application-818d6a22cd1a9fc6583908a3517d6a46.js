(function(){var t=[].slice;window.App={meta:function(t){return $('meta[name="'+t+'"]').attr("value")},serverDateFormat:d3.time.format("%Y-%m-%d"),parseDate:function(t){return _.isString(t)?this.serverDateFormat.parse(t.slice(0,10)):t},checkRevision:function(t){var e;return this.clientRevision||(this.clientRevision=App.meta("revision")),e=t.getResponseHeader("X-Revision"),e?this.clientRevision!==e?(window.console.log("[App.checkRevision] reloading ('"+this.clientRevision+"' != '"+e+"')"),window.location.reload()):void 0:window.console.log("[App.checkRevision] serverRevision is blank")},relativeRoot:function(){var t;return t=App.meta("relative_url_root"),/\/$/.test(t)&&(t=t.substring(0,t.length-1)),t},mdown:function(t){var e,n;return t?(e=new Markdown.Converter,n=e.makeHtml(t),App.emojify(n)):""},emojify:function(t){return t.replace(/:([a-z0-9\+\-_]+):/,function(t,e){return _.contains(Emoji.names,e)?'<img alt="'+e+'" height="20" width="20" src="'+App.relativeRoot()+"/images/emoji/"+e+'.png" class="emoji" />':t})},formatTicketSummary:function(t){var e,n,r;return t=Handlebars.Utils.escapeExpression(t),r=t.split(":",2),e=r[0],n=r[1],n?"<b>"+e+":</b>"+n:t},formatPercent:function(t){return(100*t).toFixed(0)+"%"},showErrorMessage:function(t,e){var n,r;return r='<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+t+'</h3>\n  </div>\n  <div class="modal-body">\n    '+e+'\n  </div>\n  <div class="modal-footer">\n    <button type="button" data-dismiss="modal">Close</button>\n  </div>\n</div>',n=$(r).modal(),n.on("hidden",function(){return $(this).remove()})},uploadComplete:function(){var e,n;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],$(n).trigger("upload:complete",e)},toggleFullScreen:function(){var t,e;return t=$("body"),t.keypress(function(e){return 102===e.which&&(t.toggleClass("full-screen"),window.location.hash=t.attr("class"),window.kanbanObj)?kanbanObj.setKanbanHeight():void 0}),t.keydown(function(e){return 27===e.keyCode&&(t.removeClass("full-screen"),window.location.hash="",window.kanbanObj)?kanbanObj.setKanbanHeight():void 0}),e=window.location.hash.substring(1).split(" "),_.include(e,"full-screen")&&(t.toggleClass("full-screen"),window.kanbanObj)?kanbanObj.setKanbanHeight():void 0},showNewTicket:function(t){var e,n,r;return null==t&&(t={}),e=$(".project-banner"),r=e.attr("data-project-slug"),n=e.attr("data-project-color"),r&&0===$("#new_ticket_modal").length?new NewTicketModal(_.extend(t,{slug:r,color:n})).show():void 0},oauth:function(t){return window.location=t},truncateDate:function(t){return t.setHours?(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t):t},truncatedDate:function(t){return t=new Date(t.getTime()),App.truncateDate(t)},showTicket:function(t,e,n){var r,s;return e=e||$(".project-banner").attr("data-project-slug"),t&&e?(n||(n={}),n.project=e,r=n.$context||$("#tickets"),s=_.map(r.find('[rel="ticket"]:visible'),function(t){return+$(t).attr("data-number")}),s.length>0&&(n.ticketNumbers=s),window.user&&(n.edit=window.user.canEditTickets()),new TicketModalView(n).show(t)):!1},promptForCredentialsTo:function(t){var e,n;return n='<div class="modal hide fade">\n  <form class="form-horizontal" id="user_credentials_form">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h3>Log in to '+t+'</h3>\n    </div>\n    <div class="modal-body">\n      <div class="control-group">\n        <label class="control-label" for="user_credentials_login">Login</label>\n        <div class="controls">\n          <input type="text" id="user_credentials_login">\n        </div>\n      </div>\n      <div class="control-group">\n        <label class="control-label" for="user_credentials_password">Password</label>\n        <div class="controls">\n          <input type="password" id="user_credentials_password">\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button type="submit" class="btn btn-primary">Sign in</button>\n    </div>\n  </form>\n</div>',e=$(n).modal(),e.on("hidden",function(){return $(this).remove()}),e.on("shown",function(){return function(){var n;return n=e.find('input[type="text"]:first').select(),e.find('button[type="submit"]').click(function(n){var r;return n.preventDefault(),r=$.put("/credentials",{service:t,login:e.find("#user_credentials_login").val(),password:e.find("#user_credentials_password").val()}),r.success(function(){return e.modal("hide")}),r.error(function(t){var e;return e=$("#user_credentials_form"),e.find(".alert").remove(),Errors.fromResponse(t).renderToAlert().prependTo(e)})})}}(this))},trackEvent:function(t){return Intercom?Intercom("trackEvent",t):void 0}},this.Houston=this.App}).call(this),function(){Houston.BurndownChart=function(){function t(){this._margin={top:40,right:0,bottom:24,left:50},this._selector="#graph",this._height=260,this.$el=$(this._selector),this._totalEffort=0,this._lines={},this._regressions={},$(window).resize(function(t){return function(e){return e.target===window?t.render():void 0}}(this))}return t.prototype.margin=function(t){return this._margin=t,this},t.prototype.height=function(t){return this._height=t,this},t.prototype.selector=function(t){return this._selector=t,this.$el=$(this._selector),this},t.prototype.dateFormat=function(t){return this._dateFormat=t,this},t.prototype.days=function(t){return this.days=t,this},t.prototype.totalEffort=function(t){return this._totalEffort=t,this},t.prototype.addLine=function(t,e){return this._lines[t]=e,this},t.prototype.addRegression=function(t,e){return this._regressions[t]=e,this},t.prototype.render=function(){var t,e,n,r,s,i,a,o,l,c,u,d,p,h,m,f,g,_,b,k,y,v;if(p=this.$el.width()||960,s=this._height,r=p-this._margin.left-this._margin.right,n=s-this._margin.top-this._margin.bottom,d=this._totalEffort,!d){_=this._lines;for(c in _)t=_[c],t[0]&&t[0].effort>d&&(d=t[0].effort)}e=this._dateFormat||d3.time.format("%A"),b=d3.extent(this.days),o=b[0],a=b[1],h=d3.scale.ordinal().rangePoints([0,r],.75).domain(this.days),f=d3.scale.linear().range([n,0]).domain([0,d]),l=d3.scale.linear().range([h(o),h(a)]).domain([o,a]),m=d3.svg.axis().scale(h).orient("bottom").tickFormat(function(){return function(t){return e(new Date(t))}}(this)),g=d3.svg.axis().scale(f).orient("left"),i=d3.svg.line().interpolate("linear").x(function(t){return h(t.day)}).y(function(t){return f(t.effort)}),this.$el.empty(),u=d3.select(this._selector).append("svg").attr("width",p).attr("height",s).append("g").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),u.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(m),u.append("g").attr("class","y axis").call(g).append("text").attr("transform","rotate(-90)").attr("y",-45).attr("x",160-s).attr("dy",".71em").attr("class","legend").style("text-anchor","end").text("Points Remaining"),k=this._regressions;for(c in k)t=k[c],u.append("line").attr("class","regression regression-"+c).attr("x1",l(t.x1)).attr("y1",f(t.y1)).attr("x2",l(t.x2)).attr("y2",f(t.y2));y=this._lines,v=[];for(c in y)t=y[c],u.append("path").attr("class","line line-"+c).attr("d",i(t)),u.selectAll("circle.circle-"+c).data(t).enter().append("circle").attr("class","circle-"+c).attr("r",5).attr("cx",function(t){return h(t.day)}).attr("cy",function(t){return f(t.effort)}),v.push(u.selectAll(".effort-remaining.effort-"+c).data(t).enter().append("text").text(function(t){return t.effort}).attr("class","effort-remaining effort-"+c).attr("transform",function(t){return"translate("+(h(t.day)+5.5)+", "+(f(t.effort)-10)+") rotate(-75)"}));return v},t}()}.call(this),function(){window.Duration=function(){function t(t,e){this.n=t,this.units=e}return t.prototype.after=function(e){return t.transformDateBy(e,+this.n,this.units)},t.prototype.before=function(e){return t.transformDateBy(e,-this.n,this.units)},t.prototype.ago=function(){return this.before(new Date)},t.prototype.fromNow=function(){return this.after(new Date)},t.prototype.valueOf=function(){switch(this.units){case"minutes":return this.n*t.MINUTE;case"hours":return this.n*t.HOUR;case"days":return this.n*t.DAY;case"weeks":return this.n*t.WEEK;case"months":return this.n*t.AVGMONTH;case"years":return this.n*t.AVGYEAR}},t}(),Duration.prototype.from=Duration.prototype.after,Duration.MINUTE=6e4,Duration.HOUR=60*Duration.MINUTE,Duration.DAY=24*Duration.HOUR,Duration.WEEK=7*Duration.DAY,Duration.AVGMONTH=4.3452380952381*Duration.WEEK,Duration.AVGYEAR=365*Duration.DAY,Duration.transformDateBy=function(t,e,n){var r,s,i,a,o;switch(o=[t.getFullYear(),t.getMonth(),t.getDate()],a=o[0],i=o[1],r=o[2],n){case"minutes":return new Date(t.getTime()+e*Duration.MINUTE);case"hours":return new Date(t.getTime()+e*Duration.HOUR);case"days":return new Date(a,i,r+e);case"weeks":return new Date(a,i,r+7*e);case"months":return i+=e,s=new Date(a,i+1,0).getDate(),new Date(a,i,Math.min(r,s));case"years":return new Date(a+e,i,r)}},Number.prototype.minutes=function(){return new Duration(Number(this),"minutes")},Number.prototype.hours=function(){return new Duration(Number(this),"hours")},Number.prototype.days=function(){return new Duration(Number(this),"days")},Number.prototype.weeks=function(){return new Duration(Number(this),"weeks")},Number.prototype.months=function(){return new Duration(Number(this),"months")},Number.prototype.years=function(){return new Duration(Number(this),"years")},Number.prototype.minutes=Number.prototype.minutes,Number.prototype.hours=Number.prototype.hours,Number.prototype.day=Number.prototype.days,Number.prototype.week=Number.prototype.weeks,Number.prototype.month=Number.prototype.months,Number.prototype.year=Number.prototype.years}.call(this),function(){window.Errors=function(){function t(t){var e,n;401===t.status?"Missing Credentials"===t.getResponseHeader("X-Credentials")?this.missingCredentials=!0:"Invalid Credentials"===t.getResponseHeader("X-Credentials")?this.invalidCredentials=!0:"Oauth"===t.getResponseHeader("X-Credentials")?this.oauthLocation=t.getResponseHeader("Location"):(e=null!=(n=t.responseText)?n:"You are not authorized",this.errors={base:[e]}):this.errors=JSON.parse(t.responseText)}return t.prototype.renderToAlert=function(){var t,e,n,r;n=[],r=this.errors;for(t in r)e=r[t],n.push("base"===t?e[0]:""+t+" "+e[0]);return alertify.error(n.join(".\n"))},t}(),Errors.fromResponse=function(t){return new Errors(t)}}.call(this),function(){Handlebars.registerHelper("formatDuration",function(t){var e,n,r,s;return t<Duration.HOUR?(r=Math.floor(t/Duration.MINUTE),s=1===r?"minute":"minutes",""+r+" "+s):t<Duration.DAY?(n=Math.floor(t/Duration.HOUR),s=1===n?"hour":"hours",""+n+" "+s):(e=Math.floor(t/Duration.DAY),s=1===e?"day":"days",""+e+" "+s)}),Handlebars.registerHelper("formatDate",function(t){var e;return(e=d3.time.format("%a %b %-d"))(Date.create(t))}),Handlebars.registerHelper("formatDateWithYear",function(t){var e;return t?(e=d3.time.format('%b %-d <span class="year">%Y</span>'))(Date.create(t)):""}),Handlebars.registerHelper("formatDateWithYear2",function(t){var e;return t?(e=d3.time.format("%b %-d, %Y"))(Date.create(t)):""}),Handlebars.registerHelper("formatTime",function(t){var e;return e=d3.time.format("%a %b %-d, %Y %-I:%M%p"),e(Date.create(t)).replace(/[AP]M/,function(t){return t.toLowerCase()[0]})}),Handlebars.registerHelper("formatTimeAgo",function(t){return $.timeago(Date.create(t))}),Handlebars.registerHelper("markdown",function(t){return App.mdown(t)}),Handlebars.registerHelper("emojify",function(t){return App.emojify(t)}),Handlebars.registerHelper("classForAge",function(t){return t<6*Duration.HOUR?"infant":t<2*Duration.DAY?"child":t<7*Duration.DAY?"adult":t<4*Duration.WEEK?"senior":t<26*Duration.WEEK?"old":"ancient"}),Handlebars.registerHelper("radioButton",function(t,e,n,r,s){var i;return e=""+t+"_"+e+"_"+n+"_"+r,i='<input type="radio" id="'+e+'" name="'+n+'" value="'+r+'"',r===s&&(i+=' checked="checked"'),""+i+" />"}),Handlebars.registerHelper("formatTicketSummary",function(t){return App.formatTicketSummary(t)}),Handlebars.registerHelper("linkToCommit",function(t){var e;return e=t.sha.slice(0,8),t.linkTo?'<a href="'+t.linkTo+'" target="_blank">'+e+"</a>":e}),Handlebars.registerHelper("testerAvatar",function(t,e){var n,r;return r=window.testers.findByEmail(t),n="http://www.gravatar.com/avatar/"+MD5(t.toLowerCase().trim())+"?r=g&d=retro&s="+2*e,'<img src="'+n+'" width="'+e+'" height="'+e+'" rel="tooltip" title="'+r.get("name")+'" />'}),Handlebars.registerHelper("userAvatar",function(t){var e,n;return n=window.user,e="http://www.gravatar.com/avatar/"+MD5(n.get("email").toLowerCase().trim())+"?r=g&d=retro&s="+2*t,'<img src="'+e+'" width="'+t+'" height="'+t+'" rel="tooltip" title="'+n.get("name")+'" />'}),Handlebars.registerHelper("avatar",function(t,e,n){var r;return t?(r="http://www.gravatar.com/avatar/"+MD5(t.toLowerCase().trim())+"?r=g&d=retro&s="+2*e,n?'<img src="'+r+'" class="avatar" width="'+e+'" height="'+e+'" rel="tooltip" title="'+n+'" />':'<img src="'+r+'" class="avatar" width="'+e+'" height="'+e+'" />'):'<img width="'+e+'" height="'+e+'" />'}),Handlebars.registerHelper("ifEq",function(t,e,n){return t===e?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("summarizeAntecedents",function(t){var e,n,r;e="",r=_.groupBy(t,function(t){return t.kind});for(n in r)t=r[n],e+=""+n+' <span class="badge">'+t.length+"</span>";return e}),Handlebars.registerPartial("sprintTask",function(t){return HandlebarsTemplates["sprints/task"](t)}),Handlebars.registerHelper("timelineDateRange",function(t,e){var n,r;return t?(n=(t-e)/Duration.DAY,n>=3?Handlebars.helpers.timelineDateAfterGap(e):_.inject(function(){r=[];for(var t=0;n>=0?n>t:t>n;n>=0?t++:t--)r.push(t);return r}.apply(this),function(e,n){return e+Handlebars.helpers.timelineDate((n+1).days().before(t))},"")):Handlebars.helpers.timelineDate(e)}),Handlebars.registerHelper("timelineDate",function(t){var e;return(e=d3.time.format('<div class="timeline-date">\n  <span class="weekday">%a</span>\n  <span class="month">%b</span>\n  <span class="day">%-d</span>\n  <span class="year">%Y</span>\n</div>'))(Date.create(t))}),Handlebars.registerHelper("timelineTime",function(t){var e;return e=d3.time.format('<span class="timeline-event-time">%-I:%M%p</span>'),e(Date.create(t)).replace(/[AP]M/,function(t){return t.toLowerCase()[0]})}),Handlebars.registerHelper("timelineDateAfterGap",function(t){return'<div class="timeline-date-gap"></div>'+Handlebars.helpers.timelineDate(t)}),Handlebars.registerHelper("timeline",function(t,e){var n,r,s,i,a,o;if(i=null,null==t&&(t=[]),t.length>0){for(s='<div class="timeline">',a=0,o=t.length;o>a;a++)r=t[a],n=App.truncateDate(Date.create(r.date||r.time)),s+=Handlebars.helpers.timelineDateRange(i,n),s+=e.fn(r),i=n;s+="</div>"}return s}),Handlebars.registerHelper("renderTaskWorker",function(t){return t.checkedOutByMe&&!t.historical&&t.open?'<button class="btn btn-danger check-out-button active" data-toggle="button">Check in</button>':t.checkedOutBy?Handlebars.helpers.avatar(t.checkedOutBy.email,24,t.checkedOutBy.firstName)+(" "+t.checkedOutBy.firstName):t.open?'<button class="btn btn-info check-out-button" data-toggle="button">Check out</button>':void 0}),Handlebars.registerHelper("renderTaskStatus",function(t){return t.released?'<i class="fa fa-paper-plane"></i> Released':t.committed?'<span class="octicon octicon-git-commit"></span> Committed':t.completed?t.historical?"Completed":'<a class="complete-task-button"></a> Completed':t.historical?"Open":'<a class="complete-task-button"></a> Open'})}.call(this),function(){$.tablesorter.addParser({id:"timestamp",is:function(){return!1},format:function(t,e,n){return $(n).attr("data-timestamp")},type:"text"}),$.tablesorter.addParser({id:"property",is:function(){return!1},format:function(t,e,n){return+$(n).attr("data-position")},type:"number"}),$.tablesorter.addParser({id:"attr",is:function(){return!1},format:function(t,e,n){return $(n).attr("data-sort-by")},type:"text"})}.call(this),function(){$.fn.extend({pseudoHover:function(){return $(this).addClass("unhovered").hover(function(){return $(this).addClass("hover").removeClass("unhovered")},function(){return $(this).removeClass("hover").addClass("unhovered")})},appendView:function(t){var e;return e=this.append(t.el),t.render(),e},prependView:function(t){var e;return e=this.prepend(t.el),t.render(),e},serializeObject:function(){var t,e,n;return n={},t=this.serializeArray(),e=/\[\]$/,$.each(t,function(){return n[this.name]&&e.test(this.name)?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n},highlight:function(){return $(this).effect("highlight",{},1500)},reset:function(){return $(this).each(function(){return this.reset()})},disable:function(){return $(this).find('input[type="submit"], input[type="reset"], button').attr("disabled","disabled").end()},enable:function(){return $(this).find('input[type="submit"], input[type="reset"], button').removeAttr("disabled").end()},getCursorPosition:function(){var t,e,n;return(t=this.get(0))?t.selectionStart?t.selectionStart:document.selection?(t.focus(),e=document.selection.createRange(),n=document.selection.createRange().text.length,e.moveStart("character",-t.value.length),e.text.length-n):void 0:void 0},appendAsAlert:function(){var t,e;return t=$("#body .alert"),e=$(this),t.length>0?$("#body .alert").fadeOut({complete:function(){return $(this).remove(),e.prependTo($("#body")).alert()}}):e.prependTo($("#body")).alert()},putCursorAtEnd:function(){return this.each(function(){var t;return $(this).focus(),this.setSelectionRange?(t=2*$(this).val().length,this.setSelectionRange(t,t)):$(this).val($(this).val())})}}),$.extend({put:function(t,e,n,r){return jQuery.isFunction(e)&&(n=e,e={}),e=e||{},e._method="put",jQuery.post(t,e,n,r)},destroy:function(t,e,n,r){return jQuery.isFunction(e)&&(n=e,e={}),e=e||{},e._method="delete",jQuery.post(t,e,n,r)}})}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.commit=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a=e.helperMissing,o=this.escapeExpression,l="function",c='<span class="committer-avatar">';return s=(e.avatar||t&&t.avatar||a).call(t,null!=(s=null!=t?t.committer:t)?s.email:s,24,null!=(s=null!=t?t.committer:t)?s.name:s,{name:"avatar",hash:{},data:r}),null!=s&&(c+=s),c+='</span>\n<div class="testing-note-body">\n  <span class="testing-note-timestamp">\n    '+o((e.formatTime||t&&t.formatTime||a).call(t,null!=t?t.createdAt:t,{name:"formatTime",hash:{},data:r}))+"&nbsp;&nbsp;\n    ",s=(e.linkToCommit||t&&t.linkToCommit||a).call(t,t,{name:"linkToCommit",hash:{},data:r}),null!=s&&(c+=s),c+="&nbsp;&nbsp;\n    Updated in <b>"+o((i=null!=(i=e.environment||(null!=t?t.environment:t))?i:a,typeof i===l?i.call(t,{name:"environment",hash:{},data:r}):i))+'</b>\n  </span>\n  <span class="tester-comment">',s=(e.markdown||t&&t.markdown||a).call(t,null!=t?t.message:t,{name:"markdown",hash:{},data:r}),null!=s&&(c+=s),c+"</span>\n</div>"},useData:!0}),this.HandlebarsTemplates.commit}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.keyboard_shortcuts=Handlebars.template({1:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=e.blockHelperMissing,u=this.escapeExpression,d="        <dt>";return i=null!=(i=e.keys||(null!=t?t.keys:t))?i:l,a={name:"keys",hash:{},fn:this.program(2,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.keys||(s=c.call(t,s,a)),null!=s&&(d+=s),d+"</dt>\n        <dd>"+u((i=null!=(i=e.name||(null!=t?t.name:t))?i:l,typeof i===o?i.call(t,{name:"name",hash:{},data:r}):i))+"</dd>\n"},2:function(t){var e=this.lambda,n=this.escapeExpression;return'<span class="key">'+n(e(t,t))+"</span> "},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=e.blockHelperMissing,u='<div class="modal hide" tabindex="-1">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Keyboard Shortcuts</h3>\n  </div>\n  <div class="modal-body">\n    <dl class="keyboard-shortcuts">\n';return i=null!=(i=e.shortcuts||(null!=t?t.shortcuts:t))?i:l,a={name:"shortcuts",hash:{},fn:this.program(1,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.shortcuts||(s=c.call(t,s,a)),null!=s&&(u+=s),u+"    </dl>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates.keyboard_shortcuts}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["new_ticket/form"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="new-ticket-wrap">\n  <div class="ticket-summary-wrap">\n    <input id="ticket_summary" name="ticket[summary]" type="text" placeholder="[feature] New Feature: type your summary here" />\n  </div>\n  <ol id="ticket_suggestions">\n  </ol>\n  <div class="ticket-description new-ticket-full">\n    <textarea id="ticket_description" name="ticket[description]" rows="4"></textarea>\n  </div>\n</div>\n<div class="new-ticket-full new-ticket-buttons">\n  <button class="btn" id="reset_ticket">Cancel</button>\n  <button class="btn btn-primary" id="create_ticket">Create</button>\n</div>'},useData:!0}),this.HandlebarsTemplates["new_ticket/form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["new_ticket/modal"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'<div id="new_ticket_modal" class="modal hide '+o((s=null!=(s=e.color||(null!=t?t.color:t))?s:a,typeof s===i?s.call(t,{name:"color",hash:{},data:r}):s))+'">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>New Ticket</h3>\n  </div>\n  <div class="modal-body">\n    <form id="new_ticket_view" data-mode="type"></form>\n  </div>\n</div>'},useData:!0}),this.HandlebarsTemplates["new_ticket/modal"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["new_ticket/suggestion"]=Handlebars.template({1:function(){return"ticket-closed"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=this.escapeExpression,u=e.blockHelperMissing,d='<li id="ticket_'+c((i=null!=(i=e.id||(null!=t?t.id:t))?i:l,typeof i===o?i.call(t,{name:"id",hash:{},data:r}):i))+'" class="ticket-suggestion ';return i=null!=(i=e.closed||(null!=t?t.closed:t))?i:l,a={name:"closed",hash:{},fn:this.program(1,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.closed||(s=u.call(t,s,a)),null!=s&&(d+=s),d+'">\n  <a href="'+c((i=null!=(i=e.ticketUrl||(null!=t?t.ticketUrl:t))?i:l,typeof i===o?i.call(t,{name:"ticketUrl",hash:{},data:r}):i))+'" target="_blank">[#'+c((i=null!=(i=e.number||(null!=t?t.number:t))?i:l,typeof i===o?i.call(t,{name:"number",hash:{},data:r}):i))+"] "+c((i=null!=(i=e.summary||(null!=t?t.summary:t))?i:l,typeof i===o?i.call(t,{name:"summary",hash:{},data:r}):i))+"</a>\n</li>"},useData:!0}),this.HandlebarsTemplates["new_ticket/suggestion"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["omnibar/commit"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<li class="omnibar-item" data-value="'+l((i=null!=(i=e.url||(null!=t?t.url:t))?i:o,typeof i===a?i.call(t,{name:"url",hash:{},data:r}):i))+'"><a>\n  ';return s=(e.avatar||t&&t.avatar||o).call(t,null!=(s=null!=t?t.committer:t)?s.email:s,28,{name:"avatar",hash:{},data:r}),null!=s&&(c+=s),c+'\n  <b class="bubble '+l((i=null!=(i=e.projectColor||(null!=t?t.projectColor:t))?i:o,typeof i===a?i.call(t,{name:"projectColor",hash:{},data:r}):i))+'"></b>\n  <span class="commit-sha">'+l((i=null!=(i=e.sha||(null!=t?t.sha:t))?i:o,typeof i===a?i.call(t,{name:"sha",hash:{},data:r}):i))+'</span>\n  <span class="commit-message">'+l((i=null!=(i=e.message||(null!=t?t.message:t))?i:o,typeof i===a?i.call(t,{name:"message",hash:{},data:r}):i))+"</span>\n</a></li>"},useData:!0}),this.HandlebarsTemplates["omnibar/commit"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["omnibar/modal"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="modal hide" tabindex="-1">\n  <div class="modal-body noscroll">\n    <input type="text" id="omnibar" autocomplete="off" name="query" tabindex="0" class="omnibar" />\n  </div>\n</div>'},useData:!0}),this.HandlebarsTemplates["omnibar/modal"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["omnibar/project"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'<li class="omnibar-item" data-value="'+o((s=null!=(s=e.url||(null!=t?t.url:t))?s:a,typeof s===i?s.call(t,{name:"url",hash:{},data:r}):s))+'"><a>\n  <b class="bubble '+o((s=null!=(s=e.projectColor||(null!=t?t.projectColor:t))?s:a,typeof s===i?s.call(t,{name:"projectColor",hash:{},data:r}):s))+'"></b>\n  <span class="project-title">'+o((s=null!=(s=e.projectTitle||(null!=t?t.projectTitle:t))?s:a,typeof s===i?s.call(t,{name:"projectTitle",hash:{},data:r}):s))+'</span>\n  <span class="project-link-title">'+o((s=null!=(s=e.title||(null!=t?t.title:t))?s:a,typeof s===i?s.call(t,{name:"title",hash:{},data:r}):s))+"</span>\n</a></li>"},useData:!0}),this.HandlebarsTemplates["omnibar/project"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["omnibar/ticket"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<li class="omnibar-item" data-value="'+l((i=null!=(i=e.url||(null!=t?t.url:t))?i:o,typeof i===a?i.call(t,{name:"url",hash:{},data:r}):i))+'"><a>\n  ';return s=(e.avatar||t&&t.avatar||o).call(t,null!=(s=null!=t?t.reporter:t)?s.email:s,28,{name:"avatar",hash:{},data:r}),null!=s&&(c+=s),c+'\n  <b class="bubble '+l((i=null!=(i=e.projectColor||(null!=t?t.projectColor:t))?i:o,typeof i===a?i.call(t,{name:"projectColor",hash:{},data:r}):i))+'"></b>\n  <span class="ticket-number">#'+l((i=null!=(i=e.number||(null!=t?t.number:t))?i:o,typeof i===a?i.call(t,{name:"number",hash:{},data:r}):i))+'</span>\n  <span class="ticket-summary">'+l((i=null!=(i=e.summary||(null!=t?t.summary:t))?i:o,typeof i===a?i.call(t,{name:"summary",hash:{},data:r}):i))+"</span>\n</a></li>"},useData:!0}),this.HandlebarsTemplates["omnibar/ticket"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["problems/index"]=Handlebars.template({1:function(t,e,n,r){var s,i="";return s=this.invokePartial(n.problem,"  ","problem",t,void 0,e,n,r),null!=s&&(i+=s),i},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s;return s=e.each.call(t,null!=t?t.problems:t,{name:"each",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s?s:""},usePartial:!0,useData:!0}),this.HandlebarsTemplates["problems/index"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["problems/show"]=Handlebars.template({1:function(){return"has-ticket"},3:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=e.blockHelperMissing,u='      <div class="exception-comments">\n';return i=null!=(i=e.comments||(null!=t?t.comments:t))?i:l,a={name:"comments",hash:{},fn:this.program(4,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.comments||(s=c.call(t,s,a)),null!=s&&(u+=s),u+"      </div>\n"},4:function(t,e,n,r){var s,i=e.helperMissing,a='          <div class="exception-comment">';return s=(e.avatar||t&&t.avatar||i).call(t,null!=t?t.userEmail:t,16,null!=t?t.userEmail:t,{name:"avatar",hash:{},data:r}),null!=s&&(a+=s),a+=" ",s=(e.markdown||t&&t.markdown||i).call(t,null!=t?t.body:t,{name:"markdown",hash:{},data:r}),null!=s&&(a+=s),a+"</div>\n"},6:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=this.escapeExpression,u=e.blockHelperMissing,d='  <td class="exception-first" data-timestamp="'+c((i=null!=(i=e.at||(null!=t?t.at:t))?i:l,typeof i===o?i.call(t,{name:"at",hash:{},data:r}):i))+'">\n    '+c((i=null!=(i=e.ago||(null!=t?t.ago:t))?i:l,typeof i===o?i.call(t,{name:"ago",hash:{},data:r}):i))+"\n";return s=e["if"].call(t,null!=t?t.commit:t,{name:"if",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),null!=s&&(d+=s),i=null!=(i=e.release||(null!=t?t.release:t))?i:l,a={name:"release",hash:{},fn:this.program(12,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.release||(s=u.call(t,s,a)),null!=s&&(d+=s),d+"  </td>\n"},7:function(t,e,n,r){var s,i='      <span class="exception-commit">\n        ';return s=e["if"].call(t,null!=t?t.commitUrl:t,{name:"if",hash:{},fn:this.program(8,r),inverse:this.program(10,r),data:r}),null!=s&&(i+=s),i+"\n      </span>\n"},8:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'<a href="'+o((s=null!=(s=e.commitUrl||(null!=t?t.commitUrl:t))?s:a,typeof s===i?s.call(t,{name:"commitUrl",hash:{},data:r}):s))+'" target="_blank">'+o((s=null!=(s=e.commit||(null!=t?t.commit:t))?s:a,typeof s===i?s.call(t,{name:"commit",hash:{},data:r}):s))+"</a>"},10:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return o((s=null!=(s=e.commit||(null!=t?t.commit:t))?s:a,typeof s===i?s.call(t,{name:"commit",hash:{},data:r}):s))},12:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'      <span class="exception-release">'+o((s=null!=(s=e.environment||(null!=t?t.environment:t))?s:a,typeof s===i?s.call(t,{name:"environment",hash:{},data:r}):s))+' (<a href="'+o((s=null!=(s=e.url||(null!=t?t.url:t))?s:a,typeof s===i?s.call(t,{name:"url",hash:{},data:r}):s))+'" target="_blank">'+o((s=null!=(s=e.at||(null!=t?t.at:t))?s:a,typeof s===i?s.call(t,{name:"at",hash:{},data:r}):s))+"</a>)</span>\n"},14:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=this.escapeExpression,u=e.blockHelperMissing,d='  <td class="exception-last" data-timestamp="'+c((i=null!=(i=e.at||(null!=t?t.at:t))?i:l,typeof i===o?i.call(t,{name:"at",hash:{},data:r}):i))+'">\n    '+c((i=null!=(i=e.ago||(null!=t?t.ago:t))?i:l,typeof i===o?i.call(t,{name:"ago",hash:{},data:r}):i))+"\n";return s=e["if"].call(t,null!=t?t.commit:t,{name:"if",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),null!=s&&(d+=s),i=null!=(i=e.release||(null!=t?t.release:t))?i:l,a={name:"release",hash:{},fn:this.program(12,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.release||(s=u.call(t,s,a)),null!=s&&(d+=s),d+"  </td>\n"},16:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'      <a href="'+o((s=null!=(s=e.ticketUrl||(null!=t?t.ticketUrl:t))?s:a,typeof s===i?s.call(t,{name:"ticketUrl",hash:{},data:r}):s))+'" target="_blank" class="ticket-number">#'+o((s=null!=(s=e.ticketNumber||(null!=t?t.ticketNumber:t))?s:a,typeof s===i?s.call(t,{name:"ticketNumber",hash:{},data:r}):s))+"</a>\n"},18:function(){return'      <button class="btn btn-new-ticket">New Ticket</button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=this.escapeExpression,u=e.blockHelperMissing,d='<tr class="exception ';return s=e["if"].call(t,null!=t?t.ticketId:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(d+=s),d+='" data-token="'+c((i=null!=(i=e.token||(null!=t?t.token:t))?i:l,typeof i===o?i.call(t,{name:"token",hash:{},data:r}):i))+'" data-url="'+c((i=null!=(i=e.url||(null!=t?t.url:t))?i:l,typeof i===o?i.call(t,{name:"url",hash:{},data:r}):i))+'">\n  <td class="expcetion-checkbox"><input type="checkbox" name="problems[]" value="'+c((i=null!=(i=e.id||(null!=t?t.id:t))?i:l,typeof i===o?i.call(t,{name:"id",hash:{},data:r}):i))+'" /></td>\n  <td class="exception-summary">\n    <span class="exception-message"><a href="'+c((i=null!=(i=e.url||(null!=t?t.url:t))?i:l,typeof i===o?i.call(t,{name:"url",hash:{},data:r}):i))+'" target="_blank">'+c((i=null!=(i=e.message||(null!=t?t.message:t))?i:l,typeof i===o?i.call(t,{name:"message",hash:{},data:r}):i))+'</a></span>\n    <span class="exception-where">'+c((i=null!=(i=e.where||(null!=t?t.where:t))?i:l,typeof i===o?i.call(t,{name:"where",hash:{},data:r}):i))+"</span>\n",s=e["if"].call(t,null!=t?t.comments:t,{name:"if",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),null!=s&&(d+=s),d+="  </td>\n",i=null!=(i=e.firstNotice||(null!=t?t.firstNotice:t))?i:l,a={name:"firstNotice",hash:{},fn:this.program(6,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.firstNotice||(s=u.call(t,s,a)),null!=s&&(d+=s),i=null!=(i=e.lastNotice||(null!=t?t.lastNotice:t))?i:l,a={name:"lastNotice",hash:{},fn:this.program(14,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.lastNotice||(s=u.call(t,s,a)),null!=s&&(d+=s),d+='  <td class="exception-count"><span class="badge">'+c((i=null!=(i=e.noticesCount||(null!=t?t.noticesCount:t))?i:l,typeof i===o?i.call(t,{name:"noticesCount",hash:{},data:r}):i))+'</span></td>\n  <td class="exception-ticket">\n',s=e["if"].call(t,null!=t?t.ticketId:t,{name:"if",hash:{},fn:this.program(16,r),inverse:this.program(18,r),data:r}),null!=s&&(d+=s),d+"  </td>\n</tr>"
},useData:!0}),this.HandlebarsTemplates["problems/show"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/edit"]=Handlebars.template({1:function(){return"<hr />\n"},3:function(){return'<div>\n  <form id="add_task_form">\n    <input type="text" placeholder="Enter a task number or summary" id="add_task" />\n    <i class="fa fa-spinner fa-spin fa-large"></i>\n    <hr />\n  </form>\n</div>\n'},5:function(){return'      <td class="task-remove"></td>\n'},7:function(t,e,n,r){var s;return s=this.invokePartial(n.sprintTask,"","sprintTask",t,void 0,e,n,r),null!=s?s:""},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=e.blockHelperMissing,u='<div id="graph" class="burndown-chart callout callout-banner"></div>\n\n<div class="score score-medium sprint-total-effort">\n  <p class="positive" style="position: relative; top: -14px;"><!-- make it fit -->\n    <span class="score-count" id="sprint_history"></span>\n    <span class="score-label">Average: <span id="average_effort"></span></span>\n  </p>\n  <p class="positive">\n    <span class="score-count" id="total_effort"></span>\n    <span class="score-label">Checked Out</span>\n  </p>\n</div>\n\n<h2 class="light">Tasks</h2>\n\n<button class="btn btn-danger" id="lock_sprint_button">\n  <i class="fa fa-lock" />\n  Lock Sprint\n</button>\n<a class="btn" id="show_completed_tasks" data-toggle="button">Show Completed Tickets</a>\n\n';return s=e["if"].call(t,null!=t?t.historical:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),null!=s&&(u+=s),u+='\n<table class="table table-sortable table-milestone-tasks">\n  <thead>\n    <tr>\n      <th class="task-effort">Effort</th>\n      <th class="task-project sort-desc">Project</th>\n      <th class="task-summary">Summary</th>\n      <th class="task-status">Status</th>\n      <th class="task-worker">Worker</th>\n',s=e.unless.call(t,null!=t?t.locked:t,{name:"unless",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),null!=s&&(u+=s),u+='    </tr>\n  </thead>\n  <tbody id="tasks">\n    ',i=null!=(i=e.tasks||(null!=t?t.tasks:t))?i:l,a={name:"tasks",hash:{},fn:this.program(7,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.tasks||(s=c.call(t,s,a)),null!=s&&(u+=s),u+"\n  </tbody>\n</table>"},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sprints/edit"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/show"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div id="graph" class="burndown-chart"></div>'},useData:!0}),this.HandlebarsTemplates["sprints/show"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/task"]=Handlebars.template({1:function(){return"task-released"},3:function(){return"task-committed"},5:function(){return"task-completed"},7:function(t,e,n,r){var s,i='  <td class="task-remove">\n    ';return s=e["if"].call(t,null!=t?t.open:t,{name:"if",hash:{},fn:this.program(8,r),inverse:this.noop,data:r}),null!=s&&(i+=s),i+"\n  </td>\n"},8:function(){return'<a class="remove-task-button remove-button"></a>'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=e.blockHelperMissing,u=this.escapeExpression,d='<tr class="task ';return i=null!=(i=e.released||(null!=t?t.released:t))?i:l,a={name:"released",hash:{},fn:this.program(1,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.released||(s=c.call(t,s,a)),null!=s&&(d+=s),d+=" ",i=null!=(i=e.committed||(null!=t?t.committed:t))?i:l,a={name:"committed",hash:{},fn:this.program(3,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.committed||(s=c.call(t,s,a)),null!=s&&(d+=s),d+=" ",i=null!=(i=e.completed||(null!=t?t.completed:t))?i:l,a={name:"completed",hash:{},fn:this.program(5,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.completed||(s=c.call(t,s,a)),null!=s&&(d+=s),d+='" data-task-id="'+u((i=null!=(i=e.id||(null!=t?t.id:t))?i:l,typeof i===o?i.call(t,{name:"id",hash:{},data:r}):i))+'">\n  <td class="task-effort">\n    '+u((i=null!=(i=e.effort||(null!=t?t.effort:t))?i:l,typeof i===o?i.call(t,{name:"effort",hash:{},data:r}):i))+'\n  </td>\n  <td class="task-project"><b class="bubble '+u((i=null!=(i=e.projectColor||(null!=t?t.projectColor:t))?i:l,typeof i===o?i.call(t,{name:"projectColor",hash:{},data:r}):i))+'"></b> '+u((i=null!=(i=e.projectTitle||(null!=t?t.projectTitle:t))?i:l,typeof i===o?i.call(t,{name:"projectTitle",hash:{},data:r}):i))+'</td>\n  <td class="task-summary">\n    '+u((i=null!=(i=e.description||(null!=t?t.description:t))?i:l,typeof i===o?i.call(t,{name:"description",hash:{},data:r}):i))+'\n    <a href="'+u((i=null!=(i=e.ticketUrl||(null!=t?t.ticketUrl:t))?i:l,typeof i===o?i.call(t,{name:"ticketUrl",hash:{},data:r}):i))+'" target="_blank" rel="ticket" data-number="'+u((i=null!=(i=e.ticketNumber||(null!=t?t.ticketNumber:t))?i:l,typeof i===o?i.call(t,{name:"ticketNumber",hash:{},data:r}):i))+'" data-project="'+u((i=null!=(i=e.projectSlug||(null!=t?t.projectSlug:t))?i:l,typeof i===o?i.call(t,{name:"projectSlug",hash:{},data:r}):i))+'">[#'+u((i=null!=(i=e.shorthand||(null!=t?t.shorthand:t))?i:l,typeof i===o?i.call(t,{name:"shorthand",hash:{},data:r}):i))+']</a>\n  </td>\n  <td class="task-status">',s=(e.renderTaskStatus||t&&t.renderTaskStatus||l).call(t,t,{name:"renderTaskStatus",hash:{},data:r}),null!=s&&(d+=s),d+='</td>\n  <td class="task-worker">',s=(e.renderTaskWorker||t&&t.renderTaskWorker||l).call(t,t,{name:"renderTaskWorker",hash:{},data:r}),null!=s&&(d+=s),d+="</td>\n",s=e.unless.call(t,null!=t?t.locked:t,{name:"unless",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),null!=s&&(d+=s),d+"</tr>"},useData:!0}),this.HandlebarsTemplates["sprints/task"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/typeahead"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<span class="task-typeahead-sequence">'+l((i=null!=(i=e.sequence||(null!=t?t.sequence:t))?i:o,typeof i===a?i.call(t,{name:"sequence",hash:{},data:r}):i))+'</span>\n<span class="task-typeahead-project">\n  <b class="bubble '+l((i=null!=(i=e.projectColor||(null!=t?t.projectColor:t))?i:o,typeof i===a?i.call(t,{name:"projectColor",hash:{},data:r}):i))+'"></b>\n  <span class="project-title">';return i=null!=(i=e.projectTitle||(null!=t?t.projectTitle:t))?i:o,s=typeof i===a?i.call(t,{name:"projectTitle",hash:{},data:r}):i,null!=s&&(c+=s),c+='</span>\n</span>\n<span class="task-typeahead-summary">',i=null!=(i=e.description||(null!=t?t.description:t))?i:o,s=typeof i===a?i.call(t,{name:"description",hash:{},data:r}):i,null!=s&&(c+=s),c+='</span>\n<span class="task-typeahead-number">#',i=null!=(i=e.shorthand||(null!=t?t.shorthand:t))?i:o,s=typeof i===a?i.call(t,{name:"shorthand",hash:{},data:r}):i,null!=s&&(c+=s),c+"</span>"},useData:!0}),this.HandlebarsTemplates["sprints/typeahead"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["testing_notes/edit"]=Handlebars.template({1:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='    <label for="testing_note_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'_verdict_works">';return s=(e.radioButton||t&&t.radioButton||o).call(t,"testing_note",null!=t?t.id:t,"verdict","works",null!=t?t.verdict:t,{name:"radioButton",hash:{},data:r}),null!=s&&(c+=s),c+=' Works as written</label> (Could be improved?\n    <a href="/projects/'+l((i=null!=(i=e.projectSlug||(null!=t?t.projectSlug:t))?i:o,typeof i===a?i.call(t,{name:"projectSlug",hash:{},data:r}):i))+'/tickets/new" target="_blank">File a ticket!</a> <img alt="stuck_out_tongue_winking_eye" height="20" width="20" src="/images/emoji/stuck_out_tongue_winking_eye.png" class="emoji">)<br />\n    <label for="testing_note_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'_verdict_fails">',s=(e.radioButton||t&&t.radioButton||o).call(t,"testing_note",null!=t?t.id:t,"verdict","fails",null!=t?t.verdict:t,{name:"radioButton",hash:{},data:r}),null!=s&&(c+=s),c+=" Doesn't do what it says or introduces a regression</label><br />\n    <label for=\"testing_note_"+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'_verdict_badticket">',s=(e.radioButton||t&&t.radioButton||o).call(t,"testing_note",null!=t?t.id:t,"verdict","badticket",null!=t?t.verdict:t,{name:"radioButton",hash:{},data:r}),null!=s&&(c+=s),c+=' I do not understand how to test this ticket</label><br />\n    <label for="testing_note_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'_verdict_none">',s=(e.radioButton||t&&t.radioButton||o).call(t,"testing_note",null!=t?t.id:t,"verdict","none",null!=t?t.verdict:t,{name:"radioButton",hash:{},data:r}),null!=s&&(c+=s),c+" No verdict</label>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<div class="tester-avatar">';return i=null!=(i=e.avatarImage||(null!=t?t.avatarImage:t))?i:o,s=typeof i===a?i.call(t,{name:"avatarImage",hash:{},data:r}):i,null!=s&&(c+=s),c+='</div>\n<form accept-charset="UTF-8" action="/tickets/'+l((i=null!=(i=e.ticketId||(null!=t?t.ticketId:t))?i:o,typeof i===a?i.call(t,{name:"ticketId",hash:{},data:r}):i))+"/testing_notes/"+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'" class="testing-note-form" id="edit_testing_note_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'" method="post">\n  <p>\n    <input data-attr="ticket_id" id="testing_note_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'_ticket_id" name="ticket_id" type="hidden" value="'+l((i=null!=(i=e.ticketId||(null!=t?t.ticketId:t))?i:o,typeof i===a?i.call(t,{name:"ticketId",hash:{},data:r}):i))+'" />\n',s=e["if"].call(t,null!=t?t.tester:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+'  </p>\n  <p>\n    <textarea id="testing_note_comment" name="comment">'+l((i=null!=(i=e.comment||(null!=t?t.comment:t))?i:o,typeof i===a?i.call(t,{name:"comment",hash:{},data:r}):i))+'</textarea>\n  </p>\n  <p>\n    <button class="btn btn-primary" name="commit" type="submit">Save</button>\n    <button class="btn btn-cancel" name="cancel">Cancel</button>\n  </p>\n</form>'},useData:!0}),this.HandlebarsTemplates["testing_notes/edit"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["testing_notes/new"]=Handlebars.template({1:function(){return" by-tester"},3:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'    <p>\n      <input data-attr="ticket_id" id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_ticket_id" name="ticket_id" type="hidden" value="'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'" />\n      <label for="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_works"><input id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_works" name="verdict" type="radio" value="works"> Works as written</label> (Could be improved?\n      <a href="/projects/'+o((s=null!=(s=e.projectSlug||(null!=t?t.projectSlug:t))?s:a,typeof s===i?s.call(t,{name:"projectSlug",hash:{},data:r}):s))+'/tickets/new" target="_blank">File a ticket!</a> <img alt="stuck_out_tongue_winking_eye" height="20" width="20" src="/images/emoji/stuck_out_tongue_winking_eye.png" class="emoji">)<br />\n      <label for="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_fails"><input id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_fails" name="verdict" type="radio" value="fails"> Doesn\'t do what it says or introduces a regression</label><br />\n      <label for="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_badticket"><input id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_badticket" name="verdict" type="radio" value="badticket"> I do not understand how to test this ticket</label><br />\n      <label for="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_none"><input id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict_none" name="verdict" type="radio" value="none"> No verdict</label>\n    </p>\n'},5:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'    <input data-attr="ticket_id" id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_ticket_id" name="ticket_id" type="hidden" value="'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'" />\n    <input data-attr="ticket_id" id="ticket_'+o((s=null!=(s=e.ticketId||(null!=t?t.ticketId:t))?s:a,typeof s===i?s.call(t,{name:"ticketId",hash:{},data:r}):s))+'_new_testing_note_verdict" name="verdict" type="hidden" value="none" />\n'},7:function(){return'      <button class="btn btn-post-and-reset" id="commit_and_reset">Post Comment and Reset Verdict</button>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a=e.helperMissing,o="function",l=this.escapeExpression,c='<li class="testing-note';return s=e["if"].call(t,null!=t?t.tester:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+=' new">\n  <div class="tester-avatar">',s=(e.userAvatar||t&&t.userAvatar||a).call(t,24,{name:"userAvatar",hash:{},data:r}),null!=s&&(c+=s),c+='</div>\n  <form accept-charset="UTF-8" action="/tickets/'+l((i=null!=(i=e.ticketId||(null!=t?t.ticketId:t))?i:a,typeof i===o?i.call(t,{name:"ticketId",hash:{},data:r}):i))+'/testing_notes" class="testing-note-form" id="new_testing_note" method="post">\n',s=e["if"].call(t,null!=t?t.tester:t,{name:"if",hash:{},fn:this.program(3,r),inverse:this.program(5,r),data:r}),null!=s&&(c+=s),c+='    <p>\n      <textarea id="testing_note_comment" name="comment" value=""></textarea>\n    </p>\n    <p>\n      <input class="btn btn-primary btn-post" name="commit" type="submit" value="Post" />\n',s=e["if"].call(t,null!=t?t.developer:t,{name:"if",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+"    </p>\n  </form>\n</li>"},useData:!0}),this.HandlebarsTemplates["testing_notes/new"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["testing_notes/show"]=Handlebars.template({1:function(){return'  <span class="tester-controls">\n    <a href="#" class="edit-note">Edit</a>\n    <a href="#" class="destroy-note">Delete</a>\n  </span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<div class="tester-avatar">';return i=null!=(i=e.avatarImage||(null!=t?t.avatarImage:t))?i:o,s=typeof i===a?i.call(t,{name:"avatarImage",hash:{},data:r}):i,null!=s&&(c+=s),c+='</div>\n<div class="testing-note-body">\n  <span class="testing-note-timestamp">'+l((e.formatTime||t&&t.formatTime||o).call(t,null!=t?t.createdAt:t,{name:"formatTime",hash:{},data:r}))+'</span>\n  <span class="tester-comment">',s=(e.markdown||t&&t.markdown||o).call(t,null!=t?t.comment:t,{name:"markdown",hash:{},data:r}),null!=s&&(c+=s),c+="</span>\n",s=e["if"].call(t,null!=t?t.editable:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+"</div>"},useData:!0}),this.HandlebarsTemplates["testing_notes/show"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["testing_report/description"]=Handlebars.template({1:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l="        <li class='ticket-description'>";return i=null!=(i=e.description||(null!=t?t.description:t))?i:o,s=typeof i===a?i.call(t,{name:"description",hash:{},data:r}):i,null!=s&&(l+=s),l+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<tr class="expansion ticket-testing-notes">\n  <td class="table-margin"></td>\n  <td colspan="5">\n    <ol id="ticket_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'_testing_notes" class="testing-notes" style="display: none;">\n';return s=e["if"].call(t,null!=t?t.description:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+'    </ol>\n  </td>\n  <td class="white-space" colspan="'+l((i=null!=(i=e.colspan||(null!=t?t.colspan:t))?i:o,typeof i===a?i.call(t,{name:"colspan",hash:{},data:r}):i))+'"></td>\n  <td class="table-margin"></td>\n</tr>'},useData:!0}),this.HandlebarsTemplates["testing_report/description"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["testing_report/ticket"]=Handlebars.template({1:function(){return'<a class="ticket-set-priority fa-arrow-up" data-priority="high"></a><a class="ticket-set-priority fa-arrow-down" data-priority="low"></a>'},3:function(){return'<i class="fa fa-arrow-up"></i><i class="fa fa-arrow-down"></i>'},5:function(){return'    <button class="reopen-button btn btn-mini">Reopen</button>\n    <button class="close-button btn btn-mini">Close</button>\n'},7:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'<span class="label label-inverse">'+o((s=null!=(s=e.deployment||(null!=t?t.deployment:t))?s:a,typeof s===i?s.call(t,{name:"deployment",hash:{},data:r}):s))+"</span>"},9:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'\n  <span class="hidden-text">'+o((s=null!=(s=e.dueDate||(null!=t?t.dueDate:t))?s:a,typeof s===i?s.call(t,{name:"dueDate",hash:{},data:r}):s))+'</span>\n  <span class="ticket-due-date">'+o((e.formatDate||t&&t.formatDate||a).call(t,null!=t?t.dueDate:t,{name:"formatDate",hash:{},data:r}))+"</span>\n"},11:function(t,e,n,r){var s,i=e.helperMissing,a=' <span class="committer-avatar">';return s=(e.avatar||t&&t.avatar||i).call(t,null!=t?t.email:t,24,null!=t?t.name:t,{name:"avatar",hash:{},data:r}),null!=s&&(a+=s),a+"</span>"},13:function(t,e,n,r){var s,i='  <td class="ticket-participants">';return s=this.invokePartial(n.testerVerdict,"","testerVerdict",t,void 0,e,n,r),null!=s&&(i+=s),i+"</td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a,o="function",l=e.helperMissing,c=this.escapeExpression,u=e.blockHelperMissing,d='<td class="table-margin"></td>\n<td class="ticket-testingPriority">';return s=e["if"].call(t,null!=t?t.canClose:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),null!=s&&(d+=s),d+='</td>\n<td class="ticket-project"><b class="bubble '+c((i=null!=(i=e.projectColor||(null!=t?t.projectColor:t))?i:l,typeof i===o?i.call(t,{name:"projectColor",hash:{},data:r}):i))+'"></b> '+c((i=null!=(i=e.projectTitle||(null!=t?t.projectTitle:t))?i:l,typeof i===o?i.call(t,{name:"projectTitle",hash:{},data:r}):i))+'</td>\n<td class="ticket-summary">\n  ',s=(e.formatTicketSummary||t&&t.formatTicketSummary||l).call(t,null!=t?t.summary:t,{name:"formatTicketSummary",hash:{},data:r}),null!=s&&(d+=s),d+='\n  <a href="'+c((i=null!=(i=e.ticketUrl||(null!=t?t.ticketUrl:t))?i:l,typeof i===o?i.call(t,{name:"ticketUrl",hash:{},data:r}):i))+'" target="_blank" rel="tooltip" data-tooltip-placement="right" data-original-title="View in '+c((i=null!=(i=e.ticketSystem||(null!=t?t.ticketSystem:t))?i:l,typeof i===o?i.call(t,{name:"ticketSystem",hash:{},data:r}):i))+'">[#'+c((i=null!=(i=e.number||(null!=t?t.number:t))?i:l,typeof i===o?i.call(t,{name:"number",hash:{},data:r}):i))+"]</a>\n",s=e["if"].call(t,null!=t?t.canClose:t,{name:"if",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),null!=s&&(d+=s),d+='</td>\n<td class="ticket-deployment">',s=e["if"].call(t,null!=t?t.deployment:t,{name:"if",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),null!=s&&(d+=s),d+='</td>\n<td class="ticket-due-date">',s=e["if"].call(t,null!=t?t.dueDate:t,{name:"if",hash:{},fn:this.program(9,r),inverse:this.noop,data:r}),null!=s&&(d+=s),d+='</td>\n<td class="ticket-participants">',i=null!=(i=e.committers||(null!=t?t.committers:t))?i:l,a={name:"committers",hash:{},fn:this.program(11,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.committers||(s=u.call(t,s,a)),null!=s&&(d+=s),d+="</td>\n",i=null!=(i=e.testerVerdicts||(null!=t?t.testerVerdicts:t))?i:l,a={name:"testerVerdicts",hash:{},fn:this.program(13,r),inverse:this.noop,data:r},s=typeof i===o?i.call(t,a):i,e.testerVerdicts||(s=u.call(t,s,a)),null!=s&&(d+=s),d+'<td class="table-margin"></td>'},usePartial:!0,useData:!0}),this.HandlebarsTemplates["testing_report/ticket"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["testing_report/verdict"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<span class="ticket-verdict" data-verdict="'+l((i=null!=(i=e.verdict||(null!=t?t.verdict:t))?i:o,typeof i===a?i.call(t,{name:"verdict",hash:{},data:r}):i))+'" data-tester-id="'+l((i=null!=(i=e.testerId||(null!=t?t.testerId:t))?i:o,typeof i===a?i.call(t,{name:"testerId",hash:{},data:r}):i))+'">\n  <span class="hidden-text">'+l((i=null!=(i=e.verdict||(null!=t?t.verdict:t))?i:o,typeof i===a?i.call(t,{name:"verdict",hash:{},data:r}):i))+"</span>\n  ";return s=(e.testerAvatar||t&&t.testerAvatar||o).call(t,null!=t?t.email:t,24,{name:"testerAvatar",hash:{},data:r}),null!=s&&(c+=s),c+"\n</span>"},useData:!0}),this.HandlebarsTemplates["testing_report/verdict"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tickets/find_or_create"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<form>\n  <input type="text" placeholder="Enter a ticket number or summary" id="find_or_create_ticket" />\n  <span class="create-ticket">Press <span class="label">Enter</span> to create a new ticket</span>\n</form>'},useData:!0}),this.HandlebarsTemplates["tickets/find_or_create"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tickets/index"]=Handlebars.template({1:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='  <tr id="ticket_'+l((i=null!=(i=e.id||(null!=t?t.id:t))?i:o,typeof i===a?i.call(t,{name:"id",hash:{},data:r}):i))+'" class="ticket" rel="ticket" data-number="'+l((i=null!=(i=e.number||(null!=t?t.number:t))?i:o,typeof i===a?i.call(t,{name:"number",hash:{},data:r}):i))+'">\n    <td class="table-margin"></td>\n    <td class="ticket-number">#'+l((i=null!=(i=e.number||(null!=t?t.number:t))?i:o,typeof i===a?i.call(t,{name:"number",hash:{},data:r}):i))+'</td>\n    <td class="ticket-type ticket-type-'+l((i=null!=(i=e.type||(null!=t?t.type:t))?i:o,typeof i===a?i.call(t,{name:"type",hash:{},data:r}):i))+'"></td>\n    <td class="ticket-reporter">';return s=(e.avatar||t&&t.avatar||o).call(t,null!=(s=null!=t?t.reporter:t)?s.email:s,24,null!=(s=null!=t?t.reporter:t)?s.name:s,{name:"avatar",hash:{},data:r}),null!=s&&(c+=s),c+='</td>\n    <td class="ticket-summary">'+l((i=null!=(i=e.summary||(null!=t?t.summary:t))?i:o,typeof i===a?i.call(t,{name:"summary",hash:{},data:r}):i))+'</td>\n    <td class="ticket-effort">'+l((i=null!=(i=e.effort||(null!=t?t.effort:t))?i:o,typeof i===a?i.call(t,{name:"effort",hash:{},data:r}):i))+'</td>\n    <td class="ticket-antecedents">',s=(e.summarizeAntecedents||t&&t.summarizeAntecedents||o).call(t,null!=t?t.antecedents:t,{name:"summarizeAntecedents",hash:{},data:r}),null!=s&&(c+=s),c+='</td>\n    <td class="ticket-opened date">',s=(e.formatDateWithYear||t&&t.formatDateWithYear||o).call(t,null!=t?t.openedAt:t,{name:"formatDateWithYear",hash:{},data:r}),null!=s&&(c+=s),c+='</td>\n    <td class="ticket-closed date">',s=(e.formatDateWithYear||t&&t.formatDateWithYear||o).call(t,null!=t?t.closedAt:t,{name:"formatDateWithYear",hash:{},data:r}),null!=s&&(c+=s),c+'</td>\n    <td class="table-margin"></td>\n  </tr>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i="<tbody>\n";return s=e.each.call(t,null!=t?t.tickets:t,{name:"each",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(i+=s),i+"</tbody>"},useData:!0}),this.HandlebarsTemplates["tickets/index"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tickets/modal"]=Handlebars.template({1:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return o((s=null!=(s=e.index||(null!=t?t.index:t))?s:a,typeof s===i?s.call(t,{name:"index",hash:{},data:r}):s))+" of "+o((s=null!=(s=e.count||(null!=t?t.count:t))?s:a,typeof s===i?s.call(t,{name:"count",hash:{},data:r}):s))},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l='<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n  ';return s=e["if"].call(t,null!=t?t.index:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=s&&(l+=s),l+='\n</div>\n<div class="modal-body">',i=null!=(i=e.ticket||(null!=t?t.ticket:t))?i:o,s=typeof i===a?i.call(t,{name:"ticket",hash:{},data:r}):i,null!=s&&(l+=s),l+"</div>"},useData:!0}),this.HandlebarsTemplates["tickets/modal"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tickets/show"]=Handlebars.template({1:function(){return"closed"},3:function(){return"open"},5:function(t,e,n,r){var s,i=e.helperMissing,a=this.lambda,o=this.escapeExpression,l="        by ";return s=(e.avatar||t&&t.avatar||i).call(t,null!=(s=null!=t?t.reporter:t)?s.email:s,16,{name:"avatar",hash:{},data:r}),null!=s&&(l+=s),l+"\n        <b>"+o(a(null!=(s=null!=t?t.reporter:t)?s.name:s,t))+"</b>\n"},7:function(){return""},9:function(t,e,n,r){var s,i="function",a=e.helperMissing,o=this.escapeExpression;return'\n    <div class="ticket-tracker-link">\n      <a href="'+o((s=null!=(s=e.ticketUrl||(null!=t?t.ticketUrl:t))?s:a,typeof s===i?s.call(t,{name:"ticketUrl",hash:{},data:r}):s))+'" target="_blank">Open in '+o((s=null!=(s=e.ticketSystem||(null!=t?t.ticketSystem:t))?s:a,typeof s===i?s.call(t,{name:"ticketSystem",hash:{},data:r}):s))+"</a>\n    </div>\n"},11:function(t,e,n,r){var s,i,a=e.helperMissing,o="function",l='          <div class="timeline-event timeline-event-audit">\n            ';return s=(e.timelineTime||t&&t.timelineTime||a).call(t,null!=t?t.time:t,{name:"timelineTime",hash:{},data:r}),null!=s&&(l+=s),l+="\n            ",s=(e.avatar||t&&t.avatar||a).call(t,null!=(s=null!=t?t.actor:t)?s.email:s,16,null!=(s=null!=t?t.actor:t)?s.name:s,{name:"avatar",hash:{},data:r}),null!=s&&(l+=s),l+="\n            ",i=null!=(i=e.description||(null!=t?t.description:t))?i:a,s=typeof i===o?i.call(t,{name:"description",hash:{},data:r}):i,null!=s&&(l+=s),l+"\n          </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l=this.escapeExpression,c='<div class="ticket ticket-view" id="ticket_view">\n  <div class="ticket-header">\n    <h2>\n      <span class="ticket-number">#'+l((i=null!=(i=e.number||(null!=t?t.number:t))?i:o,typeof i===a?i.call(t,{name:"number",hash:{},data:r}):i))+'</span>\n      <span class="ticket-summary editable" id="ticket_summary">\n        <span class="show" title="'+l((i=null!=(i=e.summary||(null!=t?t.summary:t))?i:o,typeof i===a?i.call(t,{name:"summary",hash:{},data:r}):i))+'">'+l((i=null!=(i=e.summary||(null!=t?t.summary:t))?i:o,typeof i===a?i.call(t,{name:"summary",hash:{},data:r}):i))+'</span>\n        <span class="edit"><input type="text" name="summary" /></span>\n      </span>\n    </h2>\n\n    <div class="ticket-state-position">\n      <div class="ticket-state ';return s=e["if"].call(t,null!=t?t.closedAt:t,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),null!=s&&(c+=s),c+='"></div>\n    </div>\n\n    <div class="ticket-reporter">\n      Opened\n',s=e["if"].call(t,null!=t?t.reporter:t,{name:"if",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+='      <span class="ticket-opened date" title="'+l((e.formatTime||t&&t.formatTime||o).call(t,null!=t?t.openedAt:t,{name:"formatTime",hash:{},data:r}))+'">'+l((e.formatTimeAgo||t&&t.formatTimeAgo||o).call(t,null!=t?t.openedAt:t,{name:"formatTimeAgo",hash:{},data:r}))+"</span>\n    </div>\n\n    ",s=(e.ifEq||t&&t.ifEq||o).call(t,null!=t?t.ticketSystem:t,"Houston",{name:"ifEq",hash:{},fn:this.program(7,r),inverse:this.program(9,r),data:r}),null!=s&&(c+=s),c+='  </div>\n\n  <div class="ticket-body">\n    <div class="ticket-audit-frame">\n      <div class="ticket-audit-timeline">\n',s=(e.timeline||t&&t.timeline||o).call(t,null!=t?t.changes:t,{name:"timeline",hash:{},fn:this.program(11,r),inverse:this.noop,data:r}),null!=s&&(c+=s),c+='      </div>\n    </div>\n    <div class="ticket-description editable primary-frame" id="ticket_description">\n      <div class="show">',s=(e.markdown||t&&t.markdown||o).call(t,null!=t?t.description:t,{name:"markdown",hash:{},data:r}),null!=s&&(c+=s),c+'</div>\n      <div class="edit">\n        <textarea name="description"></textarea>\n        <p class="buttons">\n          <button type="reset" class="btn btn-link">Cancel</button>\n          <button type="submit" class="btn btn-default">Save</button>\n        </p>\n      </div>\n    </div>\n    <div class="task-frame">\n    </div>\n  </div>\n</div>'},useData:!0}),this.HandlebarsTemplates["tickets/show"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tickets/typeahead"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,r){var s,i,a="function",o=e.helperMissing,l='<span class="ticket-typeahead-summary">';return i=null!=(i=e.summary||(null!=t?t.summary:t))?i:o,s=typeof i===a?i.call(t,{name:"summary",hash:{},data:r}):i,null!=s&&(l+=s),l+='</span>\n<span class="ticket-typeahead-number">#',i=null!=(i=e.number||(null!=t?t.number:t))?i:o,s=typeof i===a?i.call(t,{name:"number",hash:{},data:r}):i,null!=s&&(l+=s),l+"</span>"},useData:!0}),this.HandlebarsTemplates["tickets/typeahead"]}.call(this),function(){$(function(){return $("a[rel=popover]").popover(),$(".tooltip").tooltip(),$("a[rel=tooltip]").tooltip(),$('[rel="tooltip"]').each(function(){var t,e;return t=$(this),e=t.attr("data-tooltip-placement")||"bottom",t.tooltip({placement:e})}),$(".project-banner").affix({offset:{top:66}}),$("body").on("click",'[rel="ticket"]',function(t){var e,n,r,s;return n=$(this),r=+n.attr("data-number"),s=n.attr("data-project"),e=n.closest("#tickets"),App.showTicket(r,s,{$context:e})?t.preventDefault():void 0})})}.call(this),function(){window.Emoji={names:["smile","smiley","grinning","blush","relaxed","wink","heart_eyes","kissing_heart","kissing_closed_eyes","kissing","kissing_smiling_eyes","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","stuck_out_tongue","flushed","grin","pensive","relieved","unamused","disappointed","persevere","cry","joy","sob","sleepy","disappointed_relieved","cold_sweat","sweat_smile","sweat","weary","tired_face","fearful","scream","angry","rage","triumph","confounded","laughing","yum","mask","sunglasses","sleeping","dizzy_face","astonished","worried","frowning","anguished","smiling_imp","imp","open_mouth","grimacing","neutral_face","confused","hushed","no_mouth","innocent","smirk","expressionless","man_with_gua_pi_mao","man_with_turban","cop","construction_worker","guardsman","baby","boy","girl","man","woman","older_man","older_woman","person_with_blond_hair","angel","princess","smiley_cat","smile_cat","heart_eyes_cat","kissing_cat","smirk_cat","scream_cat","crying_cat_face","joy_cat","pouting_cat","japanese_ogre","japanese_goblin","see_no_evil","hear_no_evil","speak_no_evil","skull","alien","hankey","fire","sparkles","star2","dizzy","boom","anger","sweat_drops","droplet","zzz","dash","ear","eyes","nose","tongue","lips","+1","-1","ok_hand","facepunch","fist","v","wave","hand","open_hands","point_up_2","point_down","point_right","point_left","raised_hands","pray","point_up","clap","muscle","walking","runner","dancer","couple","family","two_men_holding_hands","two_women_holding_hands","couplekiss","couple_with_heart","dancers","ok_woman","no_good","information_desk_person","raising_hand","massage","haircut","nail_care","bride_with_veil","person_with_pouting_face","person_frowning","bow","tophat","crown","womans_hat","athletic_shoe","mans_shoe","sandal","high_heel","boot","shirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","briefcase","handbag","pouch","purse","eyeglasses","ribbon","closed_umbrella","lipstick","yellow_heart","blue_heart","purple_heart","green_heart","heart","broken_heart","heartpulse","heartbeat","two_hearts","sparkling_heart","revolving_hearts","cupid","love_letter","kiss","ring","gem","bust_in_silhouette","busts_in_silhouette","speech_balloon","footprints","thought_balloon","dog","wolf","cat","mouse","hamster","rabbit","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","sheep","elephant","panda_face","penguin","bird","baby_chick","hatched_chick","hatching_chick","chicken","snake","turtle","bug","bee","ant","beetle","snail","octopus","shell","tropical_fish","fish","dolphin","whale","whale2","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","racehorse","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","camel","dromedary_camel","leopard","cat2","poodle","feet","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","ear_of_rice","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","crescent_moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","stars","star","sunny","partly_sunny","cloud","zap","umbrella","snowflake","snowman","cyclone","foggy","rainbow","ocean","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","tanabata_tree","tada","confetti_ball","balloon","crossed_flags","crystal_ball","movie_camera","camera","video_camera","vhs","cd","dvd","minidisc","floppy_disk","computer","iphone","phone","telephone_receiver","pager","fax","satellite","tv","radio","loud_sound","sound","speaker","mute","bell","no_bell","loudspeaker","mega","hourglass_flowing_sand","hourglass","alarm_clock","watch","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","mag_right","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","mag","bathtub","bath","shower","toilet","wrench","nut_and_bolt","hammer","door","smoking","bomb","gun","hocho","pill","syringe","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","calling","e-mail","inbox_tray","outbox_tray","email","envelope_with_arrow","incoming_envelope","postal_horn","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","package","memo","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","date","calendar","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","book","bookmark","name_badge","microscope","telescope","newspaper","art","clapper","microphone","headphones","musical_score","musical_note","notes","musical_keyboard","violin","trumpet","saxophone","guitar","space_invader","video_game","black_joker","flower_playing_cards","mahjong","game_die","dart","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","checkered_flag","horse_racing","trophy","ski","snowboarder","swimmer","surfer","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","night_with_stars","statue_of_liberty","bridge_at_night","carousel_horse","ferris_wheel","fountain","roller_coaster","ship","boat","speedboat","rowboat","anchor","rocket","airplane","seat","helicopter","steam_locomotive","tram","station","mountain_railway","train2","bullettrain_side","bullettrain_front","light_rail","metro","monorail","train","railway_car","trolleybus","bus","oncoming_bus","blue_car","oncoming_automobile","car","taxi","oncoming_taxi","articulated_lorry","truck","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","barber","busstop","ticket","vertical_traffic_light","traffic_light","warning","construction","beginner","fuelpump","izakaya_lantern","slot_machine","hotsprings","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","de","cn","us","fr","es","it","ru","gb","one","two","three","four","five","six","seven","eight","nine","zero","keycap_ten","1234","hash","symbols","arrow_up","arrow_down","arrow_left","arrow_right","capital_abcd","abcd","abc","arrow_upper_right","arrow_upper_left","arrow_lower_right","arrow_lower_left","left_right_arrow","arrow_up_down","arrows_counterclockwise","arrow_backward","arrow_forward","arrow_up_small","arrow_down_small","leftwards_arrow_with_hook","arrow_right_hook","information_source","rewind","fast_forward","arrow_double_up","arrow_double_down","arrow_heading_down","arrow_heading_up","ok","twisted_rightwards_arrows","repeat","repeat_one","new","up","cool","free","ng","signal_strength","cinema","koko","u6307","u7a7a","u6e80","u5408","u7981","ideograph_advantage","u5272","u55b6","u6709","u7121","restroom","mens","womens","baby_symbol","wc","potable_water","put_litter_in_its_place","parking","wheelchair","no_smoking","u6708","u7533","sa","m","passport_control","baggage_claim","left_luggage","customs","accept","secret","congratulations","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","sparkle","negative_squared_cross_mark","white_check_mark","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","a","b","ab","o2","diamond_shape_with_a_dot_inside","loop","recycle","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","atm","chart","heavy_dollar_sign","currency_exchange","copyright","registered","tm","x","bangbang","interrobang","exclamation","question","grey_exclamation","grey_question","o","top","end","back","on","soon","arrows_clockwise","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock7","clock8","clock9","clock10","clock11","clock630","clock730","clock830","clock930","clock1030","clock1130","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","spades","hearts","clubs","diamonds","white_flower","100","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_small_square","white_small_square","small_red_triangle","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","small_red_triangle_down","white_large_square","black_large_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","bowtie","feelsgood","finnadie","fu","goberserk","godmode","hurtrealbad","metal","neckbeard","octocat","rage1","rage2","rage3","rage4","shipit","suspect","trollface"]}
}.call(this),function(){this.InfiniteScroll=function(){function t(t){var e,n;this.$el=null!=(e=t.$el)?e:$(".infinite-scroll"),this.offset=null!=(n=t.offset)?n:50,this.load=t.load,this.success=t.success,this.error=t.error,this.$window=$(window),this.$document=$(document),this.$window.scroll(_.bind(this.onScroll,this))}return t.prototype.onScroll=function(){return!this.$el.hasClass("loading")&&this.$el.is(":visible")&&this.$window.scrollTop()>=this.$document.height()-this.$window.height()-this.offset?this.loadMore():void 0},t.prototype.loadMore=function(){var t;return(t=this.load(this.$el))?(this.$el.addClass("loading"),t.done(function(t){return function(e){return t.$el.removeClass("loading"),t.$el.append(e),t.success?t.success():void 0}}(this)),t.fail(function(t){return function(){return t.$el.removeClass("loading"),t.error?t.error():void 0}}(this))):void 0},t}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.Commit=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(Backbone.Model),window.Commits=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Commit,n.prototype.initialize=function(t,e){return n.__super__.initialize.call(this,t,e),this.ticket=e.ticket},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.Release=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(Backbone.Model),window.Releases=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Release,n.prototype.initialize=function(t,e){return n.__super__.initialize.call(this,t,e),this.ticket=e.ticket},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.Task=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/tasks",n}(Backbone.Model),this.Tasks=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Task,n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.Tester=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(Backbone.Model),window.Testers=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Tester,n.prototype.findByEmail=function(t){return this.find(function(e){return e.get("email")===t})},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.TestingNote=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.url=function(){return this.isNew()?""+App.relativeRoot()+"/tickets/"+this.get("ticketId")+"/testing_notes":""+App.relativeRoot()+"/tickets/"+this.get("ticketId")+"/testing_notes/"+this.get("id")},n}(Backbone.Model),window.TestingNotes=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=TestingNote,n.prototype.url=function(){return""+App.relativeRoot()+"/tickets/"+this.ticket.get("id")+"/testing_notes"},n.prototype.initialize=function(t,e){return n.__super__.initialize.call(this,t,e),this.ticket=e.ticket},n.prototype.since=function(t){return this.filter(function(e){return e.get("createdAt")>t})},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.Ticket=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.urlRoot="/tickets",n.prototype.tasks=function(){return null!=this._tasks?this._tasks:this._tasks=new Tasks(this.get("tasks"))},n.prototype.estimatedEffort=function(){var t;return _.isUndefined(this.attributes.effort)?(t=this.tasks().reduce(function(t,e){return t+ +e.get("effort")},0),0===t?null:t):this.get("effort")},n.prototype.severity=function(){var t,e,n;return n=this.get("seriousness"),e=this.get("likelihood"),t=this.get("clumsiness"),n&&e&&t?(.6*n+.3*e+.1*t).toFixed(1):!1},n.prototype.testingNotes=function(){return this.testingNotesCollection||(this.testingNotesCollection=new TestingNotes(this.get("testingNotes"),{ticket:this}))},n.prototype.releases=function(){return this.releasesCollection||(this.releasesCollection=new Releases(this.get("releases"),{ticket:this}))},n.prototype.commits=function(){return this.commitsCollection||(this.commitsCollection=new Commits(this.get("commits"),{ticket:this}))},n.prototype.activityStream=function(){return this.testingNotes().models.concat(this.commits().models).sortBy(function(t){return t.get("createdAt")})},n.prototype.parse=function(t){return t.openedAt&&(t.openedAt=new Date(t.openedAt)),t.closedAt&&(t.closedAt=new Date(t.closedAt)),t.effort&&(t.effort=+t.effort),t},n.prototype.testerVerdicts=function(){var t;return t=this.verdictsByTester(this.testingNotesSinceLastRelease()),window.testers.map(function(e){var n;return{testerId:e.id,email:e.get("email"),verdict:null!=(n=t[e.get("id")])?n:"pending"}})},n.prototype.verdict=function(){var t,e,n,r;return n=_.values(this.verdictsByTester(this.testingNotesSinceLastRelease())),_.include(n,"failing")?"Failing":0===window.testers.length?"Pending":(t=null!=(r=this.get("minPassingVerdicts"))?r:window.testers.length,e=_.filter(n,function(){return function(t){return"passing"===t}}(this)).length,e>=t?"Passing":"Pending")},n.prototype.verdictsByTester=function(t){var e;return e={},t.each(function(t){var n,r;return n=t.get("userId"),r=t.get("verdict"),"fails"===r?e[n]="failing":"works"===r?null!=e[n]?e[n]:e[n]="passing":"badticket"===r?null!=e[n]?e[n]:e[n]="badticket":"none"===r?null!=e[n]?e[n]:e[n]="comment":void 0}),e},n.prototype.testingNotesSinceLastRelease=function(){var t;return t=this.get("lastReleaseAt"),t?this.testingNotes().since(t):this.testingNotes()},n.prototype.close=function(){var t;return t="/projects/"+this.get("projectSlug")+"/tickets/by_number/"+this.get("number")+"/close",$.post(t).success(function(t){return function(e){return t.set(e)}}(this))},n.prototype.reopen=function(){var t;return t="/projects/"+this.get("projectSlug")+"/tickets/by_number/"+this.get("number")+"/reopen",$.post(t).success(function(t){return function(e){return t.set(e)}}(this))},n}(Backbone.Model),window.Tickets=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.model=Ticket,n.prototype.search=function(t){var e,n,r,s,i,a,o,l,c,u;if(a=this.getWords(t),0===a.length)return[];for(e=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)i=a[t],n.push(new RegExp("\\b"+RegExp.escape(i),"i"));return n}(),r=[],u=this.models,l=0,c=u.length;c>l;l++)s=u[l],o=_.select(e,function(t){return t.test(s.get("summary"))}).length,o+=_.select(e,function(t){return t.test(s.get("number"))}).length,n=s.get("reporter"),n&&(o+=_.select(e,function(t){return t.test(n.name)}).length),o>0&&(s.wordsMatched=o,r.push(s));return r.sort(this.compareTickets).slice(0,12)},n.prototype.compareTickets=function(t,e){return t.wordsMatched>e.wordsMatched?-1:e.wordsMatched>t.wordsMatched?1:t.get("closed")&&!e.get("closed")?1:e.get("closed")&&!t.get("closed")?-1:0},n.prototype.IGNORED_WORDS=["an","the","if","when","then","i","my","and","or","but","for","of","from","should"],n.prototype.getWords=function(t){var e,n;return n=function(){var n,r,s,i;for(s=t.split(" "),i=[],n=0,r=s.length;r>n;n++)e=s[n],i.push(e.replace(/[:\|.,;!?]/,""));return i}(),_.select(n,function(t){return function(e){return-1===t.IGNORED_WORDS.indexOf(e)}}(this))},n.prototype.orderBy=function(t,e){var n,r,s,i,a;return s=this.sorterFor(t),a="asc"===e?[1,-1]:[-1,1],n=a[0],r=a[1],i=this.models.sort(function(t,e){var i,a,o;return o=[s(t),s(e)],t=o[0],e=o[1],i=""===t||null==t,a=""===e||null==e,i&&!a?1:a&&!i?-1:t===e?0:t>e?n:r}),new this.constructor(i)},n.prototype.sorterFor=function(t){switch(t){case"effort":return function(t){return t.estimatedEffort()};case"severity":return function(t){return t.severity()};case"seriousness":return function(t){return+t.get("seriousness")};case"likelihood":return function(t){return+t.get("likelihood")};case"clumsiness":return function(t){return+t.get("clumsiness")};case"summary":return function(t){return t.get("summary").toLowerCase().replace(/^\W/,"")};case"openedAt":return function(t){return t.get("openedAt")};case"number":return function(t){return t.get("number")};case"antecedents":return function(t){var e;return e=t.get("antecedents").length,0===e?null:e};case"closedAt":return function(t){return t.get("closedAt")};default:throw"Tickets#sorterFor doesn't know how to sort "+t+"!"}},n}(Backbone.Collection)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.User=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.canEditTickets=function(){return this.get("admin")},n}(Backbone.Model)}.call(this),Mousetrap=function(t){var e={},n=t.stopCallback;return t.stopCallback=function(t,r,s,i){var a=e[s]||e[i];return a?!$(r).is(a):n(t,r,s)},t.bindScoped=function(n,r,s,i){if(t.bind(r,s,i),r instanceof Array)for(var a=0;a<r.length;a++)e[r[a]]=n;else e[r]=n},t}(Mousetrap),function(){window.App.NewReleaseForm={init:function(t){var e,n,r,s,i,a,o,l,c;for(e=$(".changes-nested-editor"),e.find(".add-link, .delete-link").attr("tabindex","-1"),e.delegate(".change-description input","keypress",function(t){return 13===t.keyCode?(t.preventDefault(),t.stopImmediatePropagation(),FT.addNestedRow(FT.getNestedRowFromEvent(t))):void 0}),e.delegate(".change-description input","keyup",function(t){return 8===t.keyCode&&""===$(this).val()&&(t.preventDefault(),t.stopImmediatePropagation(),FT.deleteNestedRow(FT.getNestedRowFromEvent(t))),38===t.keyCode&&$(this).closest(".nested-row").prev().find("input").select(),40===t.keyCode?$(this).closest(".nested-row").next().find("input").select():void 0}),a=[],i={},c=t.tickets,o=0,l=c.length;l>o;o++)s=c[o],r="[#"+s.number+"] "+s.summary,a.push(r),i[r]=s;return n=function(t){var e;if(!($("#ticket_"+t.id).length>0))return e='<tr id="ticket_'+t.id+'">\n  <td class="release-ticket-check">\n    <input type="checkbox" id="release_ticket_'+t.id+'" name="release[ticket_ids][]" value="'+t.id+'" checked="checked" />\n  </td>\n  <td class="release-ticket-summary">\n    '+App.formatTicketSummary(t.summary)+'\n  </td>\n  <td class="release-ticket-number">\n    <a href="'+t.ticketUrl+'" target="_blank">#'+t.number+"\n  </td>\n</tr>",$("#new_ticket_li").before(e)},$("#release_tickets").delegate(".delete-link","click",function(t){return t.preventDefault(),$(this).closest("tr").remove()}),$("#new_ticket_field").typeahead({source:a,updater:function(t){var e;return e=i[t],e&&n(e),""}})}}}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Houston.StackedAreaGraph=function(){function e(){this._margin={top:0,right:80,bottom:40,left:50},this._width=960,this._height=260,this._data=[],this._labels=[],this._lines=[],this._colors=["rgb(31, 119, 180)","rgb(174, 199, 232)","rgb(255, 127, 14)","rgb(255, 187, 120)","rgb(44, 160, 44)"],this._axes=["x","y"]}return e.prototype.margin=function(t){return this._margin=t,this},e.prototype.width=function(t){return this._width=t,this},e.prototype.height=function(t){return this._height=t,this},e.prototype.selector=function(t){return this._selector=t,this},e.prototype.data=function(t){return this._data=t,this},e.prototype.labels=function(t){return this._labels=t,this},e.prototype.colors=function(t){return this._colors=t,this},e.prototype.addLine=function(t){return this._lines.push(t),this},e.prototype.axes=function(t){return this._axes=t,this},e.prototype.render=function(){var e,n,r,s,i,a,o,l,c,u,d,p,h,m,f,g,_,b,k,y,v,w,T,C,x,H,D;for(o=this._width-this._margin.left-this._margin.right,a=this._height-this._margin.top-this._margin.bottom,i=d3.time.format("%A"),f=d3.time.scale().range([0,o]),_=d3.scale.linear().range([a,0]),g=d3.svg.axis().scale(f).orient("bottom"),b=d3.svg.axis().scale(_).orient("left"),r=d3.scale.ordinal().range(this._colors).domain(this._labels),n=d3.svg.area().interpolate("linear").x(function(t){return f(t.date)}).y0(function(t){return _(t.y0)}).y1(function(t){return _(t.y0+t.y)}),u=d3.svg.area().interpolate("linear").x(function(t){return f(t.date)}).y(function(t){return _(t.y)}),h=d3.layout.stack().values(function(t){return t.values}),s=h(function(){H=[];for(var t=0,e=this._labels.length;e>=0?e>t:t>e;e>=0?t++:t--)H.push(t);return H}.apply(this).map(function(t){return function(e){return{name:t._labels[e],values:t._data.map(function(t){return{date:new Date(t[0]),y:t[e+1]}})}}}(this))),f.domain(d3.extent(s[0].values,function(t){return t.date})),_.domain([0,d3.max(s[this._labels.length-1].values,function(t){return t.y+t.y0})]),$(this._selector).empty(),m=d3.select(this._selector).append("svg").attr("width",this._width).attr("height",this._height).append("g").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),t.call(this._axes,"x")>=0&&m.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(g),t.call(this._axes,"y")>=0&&m.append("g").attr("class","y axis").call(b),p=m.selectAll(".section").data(s),p.enter().append("g").attr("class","section"),p.append("path").attr("class","area").attr("d",function(t){return n(t.values)}).style("fill",function(t){return r(t.name)}),C=this._lines,k=0,w=C.length;w>k;k++){for(s=C[k],y=0,T=s.length;T>y;y++)d=s[y],d.date=new Date(d.date);m.append("path").attr("class","line").attr("d",u(s)).attr("style","stroke: #f00; stroke-width: 2px")}for(e=$('<dl class="legend"></dl>').appendTo(this._selector),D=[],l=v=0,x=this._labels.length;x>=0?x>v:v>x;l=x>=0?++v:--v)c=this._labels[l],r=this._colors[l],D.push(e.append('<dt class="circle" style="background: '+r+'"></dt><dd>'+c+"</dd>"));return D},e}()}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};Houston.StackedBarGraph=function(){function e(){this._margin={top:0,right:80,bottom:40,left:50},this._width=960,this._height=260,this._data=[],this._legend=!0,this._labels=[],this._colors=["rgb(31, 119, 180)","rgb(174, 199, 232)","rgb(255, 127, 14)","rgb(255, 187, 120)","rgb(44, 160, 44)"],this._axes=["x","y"]}return e.prototype.legend=function(t){return this._legend=t,this},e.prototype.margin=function(t){return this._margin=t,this},e.prototype.width=function(t){return this._width=t,this},e.prototype.height=function(t){return this._height=t,this},e.prototype.selector=function(t){return this._selector=t,this},e.prototype.data=function(t){return this._data=t,this},e.prototype.labels=function(t){return this._labels=t,this},e.prototype.colors=function(t){return this._colors=t,this},e.prototype.range=function(t){return this._range=t,this},e.prototype.axes=function(t){return this._axes=t,this},e.prototype.yTicks=function(t){return this._yTicks=t,this},e.prototype.render=function(){var e,n,r,s,i,a,o,l,c,u,d,p,h,m,f,g,b,k,y;if(a=this._width-this._margin.left-this._margin.right,i=this._height-this._margin.top-this._margin.bottom,s=d3.time.format("%A"),h=d3.scale.ordinal().rangeRoundBands([0,a],.15),f=d3.scale.linear().range([i,0]),m=d3.svg.axis().scale(h).orient("bottom").tickFormat(d3.time.format("%b %-d")),g=d3.svg.axis().scale(f).orient("left"),this._yTicks&&g.tickValues(this._yTicks),n=d3.scale.ordinal().range(this._colors).domain(this._labels),d=d3.layout.stack().values(function(t){return t.values}),r=d(function(){y=[];for(var t=0,e=this._labels.length;e>=0?e>t:t>e;e>=0?t++:t--)y.push(t);return y}.apply(this).map(function(t){return function(e){return{name:t._labels[e],values:t._data.map(function(n){var r;return{name:t._labels[e],date:new Date(n[0]),y:null!=(r=n[e+1])?r:0}})}}}(this))),h.domain(_.map(r[0].values,function(t){return t.date})),c=d3.max(r[this._labels.length-1].values,function(t){return t.y+t.y0}),this._range&&(c=d3.max([c,this._range[1]])),f.domain([0,c]),$(this._selector).empty(),p=d3.select(this._selector).append("svg").attr("width",this._width).attr("height",this._height).append("g").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),t.call(this._axes,"x")>=0&&p.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(m),t.call(this._axes,"y")>=0&&p.append("g").attr("class","y axis").call(g),u=p.selectAll(".section").data(h.domain()),u.enter().append("g").attr("class","section").attr("transform",function(t){return"translate("+h(t)+",0)"}),u.selectAll("rect").data(function(t,e){var n,s,i,a;for(a=[],s=0,i=r.length;i>s;s++)n=r[s],a.push({name:n.name,y1:n.values[e].y0+n.values[e].y,y0:n.values[e].y0});return a}).enter().append("rect").attr("class","bar").attr("width",h.rangeBand()).attr("y",function(t){return f(t.y1)}).attr("height",function(t){return f(t.y0)-f(t.y1)}).style("fill",function(t){return n(t.name)}),this._legend)for(e=$('<dl class="legend"></dl>').appendTo(this._selector),o=b=0,k=this._labels.length;k>=0?k>b:b>k;o=k>=0?++b:--b)l=this._labels[o],n=this._colors[o],e.append('<dt class="circle" style="background: '+n+'"></dt><dd>'+l+"</dd>");return this},e}()}.call(this),function(){this.TableRowExpander=function(){function t(){}return t.prototype.setupForViews=function(t){return this.expandedView=null,t.each(function(t){return function(e){return e.on("expanding",function(){return t.onViewExpanding(e)}),e.expand=_.bind(function(){return this.trigger("expanding"),this.$el.addClass("expanded in-transition"),this.$expandedRow=this.renderExpandedRow(),this.$expandedRow.slideDown(function(t){return function(){return t.$el.removeClass("in-transition"),t.trigger("expanded")}}(this))},e),e.collapse=_.bind(function(t){var e;if(this.$expandedRow)return e=function(t){return function(){return t.$el.removeClass("expanded in-transition"),t.$expandedRow.closest("tr").remove(),t.$expandedRow=null}}(this),"fast"===t?e():(this.$el.addClass("in-transition"),this.$expandedRow.slideUp(e))},e),e.$el.click(function(n){return $(n.target).is("button, a, input")?void 0:t.expandOrCollapseView(e)})}}(this)),$(".table-sortable").bind("sortStart",function(t){return function(){return t.collapseExpandedView("fast")}}(this))},t.prototype.expandOrCollapseView=function(t){return t.$el.hasClass("in-transition")||t.$el.hasClass("deleting")?void 0:t.$el.hasClass("expanded")?t.collapse():t.expand()},t.prototype.onViewExpanding=function(t){return this.collapseExpandedView(),this.expandedView=t},t.prototype.collapseExpandedView=function(t){return this.expandedView?this.expandedView.collapse(t):void 0},t}()}.call(this),function(){$(function(){var t,e,n;return e=function(){var e;if(!t.hasClass("working")&&!t.hasClass("done"))return t.addClass("working"),alertify.log("Your project is being synced with "+t.attr("data-tracker")),e=$.post(t.attr("href")),e.complete(function(){return function(){return t.removeClass("working")}}(this)),e.success(function(){return function(){return alertify.success('Your project is up-to-date! <a href="'+window.location+'">Refresh</a> to see the latest tickets.'),t.addClass("done")}}(this)),e.error(function(){return function(){return alertify.error("Your project could not be synced with "+t.attr("data-tracker"))}}(this))},n=function(){return(new KeyboardShortcutsModal).show()},t=$("#sync_tickets_button"),t.find('[data-toggle="tooltip"]').tooltip(),Mousetrap.bind("R t",function(){return t.click()}),t.click(function(t){return t.preventDefault(),e()}),Mousetrap.bind("n t",function(){return $("#new_ticket_button").click()}),$("#new_ticket_button").click(function(t){return t.preventDefault(),App.showNewTicket()}),Mousetrap.bind("G",function(t){var e,n,r;return t.preventDefault(),n=function(t){return HandlebarsTemplates["omnibar/"+t.type](t)},r=function(t){return _.reduce(t,function(t,e){return t+n(e)},"")},e=$(HandlebarsTemplates["omnibar/modal"]()).modal(),e.on("hidden",function(){return function(){return e.remove()}}(this)),$("#omnibar").focus().putCursorAtEnd().typeahead({minLength:2,source:function(t,e){return $.get("/omnibar",{query:t},e),!1},updater:function(t){return e.remove(),window.location.href=t},matcher:function(){return!0},sorter:function(t){return t}}),$("#omnibar").data("typeahead").render=function(t){return this.$menu.html(r(t)),this.$menu.find("li:first").addClass("active"),this},$("#omnibar").on("keyup",function(t){return 27===t.keyCode?e.modal("hide"):void 0})}),Mousetrap.bind("g p",function(){return window.location="/projects"}),Mousetrap.bind("g q",function(){return window.location="/pull_requests"}),Mousetrap.bind("g i",function(){return window.location="/itsm/issues"}),Mousetrap.bind("g t r",function(){return window.location="/testing_report"}),Mousetrap.bind("g n t",function(){return window.location="/tickets/new"}),Mousetrap.bind("g u",function(){return window.location="/users"}),Mousetrap.bind("?",function(){return $("#keyboard_shortcuts_button").click()}),$("#keyboard_shortcuts_button").click(function(t){return t.preventDefault(),n()})})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.ShowSprintView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.sprintId=this.options.sprintId,this.sprintStart=this.options.sprintStart,this.template=HandlebarsTemplates["sprints/show"],this.tasks=_.sortBy(this.options.sprintTasks,function(t){return t.projectTitle}),n.__super__.initialize.apply(this,arguments)},n.prototype.setStart=function(t){return this.sprintStart=t,this},n.prototype.setTasks=function(t){return this.tasks=_.sortBy(t,function(t){return t.projectTitle}),this},n.prototype.render=function(){var t,e,n,r;if(!this.tasks)return this;for(r=this.tasks,e=0,n=r.length;n>e;e++)t=r[e],t.open=!t.completed;return this.$el.html(this.template()),this.renderBurndownChart(this.tasks)},n.prototype.renderBurndownChart=function(t){var e,n,r,s,i,a,o,l,c,u,d,p,h,m,f,g,_,b;for(f=new Date,c=this.sprintStart,u=1..day().before(c),a=function(){var t,e;for(e=[],l=t=0;5>=t;l=++t)e.push(l.days().after(u));return e}(),n={},s={},g=0,_=0,b=t.length;b>_;_++)d=t[_],o=+d.effort,d.completed&&(i=App.truncateDate(App.parseDate(d.completedAt)),c>i&&(o=0),s[i]=(s[i]||0)+o,d.firstCommitAt||(n[i]=(n[i]||0)+o)),d.committed&&(i=App.truncateDate(App.parseDate(d.firstCommitAt)),c>i&&(o=0),n[i]=(n[i]||0)+o),g+=o;return window.completedByDay=s,p=function(t){var e,n,r,s;for(n=g,e=[{day:u,effort:Math.ceil(n)}],r=0,s=a.length;s>r;r++)i=a[r],i>f||(n-=t[i]||0,e.push({day:i,effort:Math.ceil(n)}));return e},e=p(n),r=p(s),h=e.last().effort,m=r.last().effort,(new Houston.BurndownChart).days(a).totalEffort(g).addLine("committed",e).addLine("completed",r).render(),$("body").toggleClass("green",g>0&&(0===h||0===m))},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.TicketsView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.supportsSorting=!0,n.prototype.initialize=function(){return this.tickets=this.options.tickets,this.project=this.options.project,this.supportsSorting&&this.$el.on("click","th",function(t){return function(e){return t.toggleSort($(e.target).closest("th"))}}(this)),this.$el.on("click",'[rel="ticket"]',function(t){return function(e){var n;return e.preventDefault(),e.stopImmediatePropagation(),n=+$(e.target).closest('[rel="ticket"]').attr("data-number"),App.showTicket(n,t.project,t.showTicketModal(n))}}(this)),this.options.infiniteScroll?new InfiniteScroll({load:function(t){return function(){var e,n;return e=new $.Deferred,t.offset+=50,e.resolve(t.template({tickets:function(){var t,e,r,s;for(r=this.tickets.slice(this.offset,this.offset+50),s=[],t=0,e=r.length;e>t;t++)n=r[t],s.push(n.toJSON());return s}.call(t)})),e}}(this)}):void 0},n.prototype.renderTickets=function(){return this.render()},n.prototype.showTicketModal=function(){return{}},n.prototype.toggleSort=function(t){var e,n;return t.hasClass("sort-asc")?t.removeClass("sort-asc").addClass("sort-desc"):t.hasClass("sort-desc")?t.removeClass("sort-desc").addClass("sort-asc"):(this.$el.find(".sort-asc, .sort-desc").removeClass("sort-asc sort-desc"),t.addClass("sort-desc")),e=t.attr("data-attribute"),n=t.hasClass("sort-desc")?"desc":"asc",this.performSort(e,n)},n.prototype.performSort=function(t,e){return this.tickets=this.tickets.orderBy(t,e),this.renderTickets()},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.AllTicketsView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.template=HandlebarsTemplates["tickets/index"],n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.allTickets=this.tickets,$("#tickets_filter").focus().keyup(_.bind(this.filterTickets,this))},n.prototype.render=function(){var t,e;return this.$el.find("tbody").remove(),this.offset=0,t=this.template({tickets:function(){var t,n,r,s;for(r=this.tickets.slice(0,50),s=[],t=0,n=r.length;n>t;t++)e=r[t],s.push(e.toJSON());return s}.call(this)}),this.$el.append(t),this.$el.find(".ticket").pseudoHover()},n.prototype.showTicketModal=function(){return{ticketNumbers:this.tickets.pluck("number")}},n.prototype.filterTickets=function(t){var e;return e=$(t.target).val(),this.lastSearch!==e?(this.lastSearch=e,this.tickets=e?new Tickets(this.allTickets.search(e)):this.allTickets,this.render()):void 0},n}(this.TicketsView)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.CommitView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.tagName="li",n.prototype.className="commit",n.prototype.initialize=function(){return this.renderer=HandlebarsTemplates.commit},n.prototype.render=function(){var t,e;return t=$(this.el),e=this.model.toJSON(),e.message=e.message.replace(/\[#(\d+)\]/g,""),t.html(this.renderer(e)),this},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.EditSprintView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.events={"click .check-out-button":"toggleCheckOut","click #show_completed_tasks":"toggleShowCompleted","click #lock_sprint_button":"confirmLockSprint","click .remove-task-button":"removeTask","click .complete-task-button":"toggleTaskCompleted","submit #add_task_form":"submitAddTaskForm"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.sprintStart=this.options.sprintStart,this.sprintEnd=this.options.sprintEnd,this.locked=this.options.sprintLocked||this.options.sprintCompleted,this.historical=this.options.sprintCompleted,this.template=HandlebarsTemplates["sprints/edit"],this.typeaheadTemplate=HandlebarsTemplates["sprints/typeahead"],this.openTasks=this.options.openTasks,this.sprintHistory=this.options.sprintHistory,this.sprintGraph=(new Houston.StackedBarGraph).selector("#sprint_history").legend(!1).labels(["Completed","Missed","Checked Out"]).colors(["rgb(31, 180, 61)","rgb(200, 200, 200)","rgb(56, 173, 228)"]).range([0,60]).axes([]).width(80).height(40).margin({top:0,left:0,right:0,bottom:0})},n.prototype.render=function(){var t,e,n,r,s,i,a,o,l;if(!this.tasks)return this;for(l=this.tasks,a=0,o=l.length;o>a;a++)r=l[a],r.open=!r.completed,r.locked=this.locked,r.historical=this.historical;return n=this.template({locked:this.locked,historical:this.historical,tasks:this.tasks,sprintId:this.sprintId}),this.$el.html(n),this.locked?this.showAsLocked():(this.$el.addClass("edit-mode"),$("#add_task").focus()),$("#average_effort").text(d3.mean(this.sprintHistory,function(t){return t[1]}).toFixed(1)),this.renderBurndownChart(this.tasks),this.updateTotalEffort(),this.historical||(s=this.typeaheadTemplate,i=this,t=this.$el.find("#add_task").attr("autocomplete","off").typeahead({source:this.openTasks,matcher:function(t){return~t.description.toLowerCase().indexOf(this.query.toLowerCase())||~t.projectTitle.toLowerCase().indexOf(this.query.toLowerCase())||~t.shorthand.toString().toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){return t},highlighter:function(t){var e,n,r;return e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("("+e+")","ig"),t.description.replace(n,function(t,e){return"<strong>"+e+"</strong>"}),s({sequence:null!=(r=t.extendedAttributes)?r.sequence:void 0,description:t.description.replace(n,function(t,e){return"<strong>"+e+"</strong>"}),shorthand:t.shorthand.toString().replace(n,function(t,e){return"<strong>"+e+"</strong>"}),projectTitle:t.projectTitle.replace(n,function(t,e){return"<strong>"+e+"</strong>"}),projectColor:t.projectColor})}}),t.data("typeahead").render=function(t){var e;return e=$(t).map(function(t){return function(e,n){return e=$(t.options.item).attr("data-value",n.id),e.find("a").html(t.highlighter(n)),e[0]}}(this)),e.first().addClass("active"),this.$menu.html(e),this},e=_.bind(this.addTask,this),t.data("typeahead").select=function(){var t;return t=this.$menu.find(".active").attr("data-value"),this.$element.val(""),this.hide(),e(t)}),$(".table-sortable").tablesorter(),this},n.prototype.submitAddTaskForm=function(t){return t.preventDefault()},n.prototype.addTask=function(t){var e;return e=_.detect(this.openTasks,function(e){return+e.id===+t}),e&&+e.effort<=0?void this.promptForEffort(e).done(function(e){return function(){return e.addTask(t)}}(this)):($("#add_task_form").addClass("loading"),$.post("/sprints/"+this.sprintId+"/tasks/"+t).error(function(){return function(t){var e;return $("#add_task_form").removeClass("loading"),e=Errors.fromResponse(t),e.renderToAlert()}}(this)).success(function(t){return function(e){return e.open||t.showCompletedTasks(),_.detect(t.tasks,function(t){return t.id===e.id})||(e.checkedOut=!!e.checkedOutBy,e.checkedOutByMe=e.checkedOutBy&&e.checkedOutBy.id===window.user.id,t.tasks.push(e),t.rerenderTasks(),t.renderBurndownChart(t.tasks)),$(".task[data-task-id="+e.id+"]").highlight(),$("#add_task_form").removeClass("loading")}}(this)))},n.prototype.removeTask=function(t){var e,n,r;return e=$(t.target),n=e.closest(".task"),r=+n.attr("data-task-id"),$.destroy("/sprints/"+this.sprintId+"/tasks/"+r).error(function(){return function(t){var e;return n.removeClass("deleting"),e=Errors.fromResponse(t),e.renderToAlert()}}(this)).success(function(t){return function(){return t.tasks=_.reject(t.tasks,function(t){return t.id===r}),n.remove(),t.renderBurndownChart(t.tasks)}}(this))},n.prototype.toggleTaskCompleted=function(t){var e,n,r,s;return e=$(t.target),n=e.closest(".task"),r=+n.attr("data-task-id"),s=_.findWhere(this.tasks,{id:r}),s.completed?$.put("/tasks/"+r+"/reopen").error(function(){return function(){return console.log("error",arguments)}}(this)).success(function(t){return function(){return s.completedAt=null,s.completed=!1,s.open=!0,t.rerenderTasks(),t.renderBurndownChart(t.tasks)
}}(this)):$.put("/tasks/"+r+"/complete").error(function(){return function(){return console.log("error",arguments)}}(this)).success(function(t){return function(e){return s.completedAt=e.completedAt,s.completed=!0,s.open=!1,t.rerenderTasks(),t.renderBurndownChart(t.tasks)}}(this))},n.prototype.rerenderTasks=function(){var t,e,n,r,s,i,a;for(n=HandlebarsTemplates["sprints/task"],t=this.$el.find("#tasks").empty(),i=this.tasks,a=[],r=0,s=i.length;s>r;r++)e=i[r],e.open=!e.completed,e.locked=this.locked,e.historical=this.historical,a.push(t.append(n(e)));return a},n.prototype.promptForEffort=function(t){var e,n,r;return r=$.Deferred(),n='<form class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Estimate Task #'+t.shorthand+'</h3>\n  </div>\n  <div class="modal-body">\n    <p>'+t.description+'</p>\n    <div style="text-align: right">\n      <label for="task_effort">\n        Effort:\n        <input autofocus type="number" id="task_effort" class="ticket-effort" style="text-align: right; width: 80px;" />\n      </label>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <button class="btn btn-default" type="reset" data-dismiss="modal">Close</button>\n    <button class="btn btn-primary" type="submit">Submit</button>\n  </div>\n</form>',e=$(n).modal(),e.find("#task_effort").focus(),e.on("hidden",function(){return e.remove(),$("#add_task").focus()}),e.on("keypress",'input[type="number"]',function(t){var e,n;if(13!==(n=t.keyCode)&&27!==n)return e=$(t.target).val()+String.fromCharCode(t.charCode),/^\d+(\.\d{0,2})?$/.test(e)||t.preventDefault(),+e>999.99?t.preventDefault():void 0}),e.submit(function(n){var s,i;return n.preventDefault(),s=+$("#task_effort").val(),i=$.put("/tasks/"+t.id,{effort:s}),i.success(function(){return t.effort=s,r.resolve(),e.modal("hide")}),i.error(function(){return console.log("error",arguments),$("#task_effort").focus()})}),r},n.prototype.toggleCheckOut=function(t){var e,n,r,s;return e=$(t.target),n=e.closest("tr"),r=+n.attr("data-task-id"),s=_.find(this.tasks,function(t){return t.id===r}),e.hasClass("active")?this.checkIn(e,n,r,s):this.checkOut(e,n,r,s)},n.prototype.checkIn=function(t,e,n,r){return $.destroy("/sprints/"+this.sprintId+"/tasks/"+n+"/lock").success(function(e){return function(){return r.checkedOutAt=null,r.checkedOutBy=null,r.checkedOut=!1,r.checkedOutByMe=!1,t.removeClass("btn-danger").addClass("btn-info").html("Check out"),e.updateTotalEffort()}}(this)).error(function(){return function(t){var e;return e=Errors.fromResponse(t),e.renderToAlert()}}(this))},n.prototype.checkOut=function(t,e,n,r){return $.post("/sprints/"+this.sprintId+"/tasks/"+n+"/lock").success(function(e){return function(){return r.checkedOutAt=new Date,r.checkedOutBy={id:window.user.id,name:window.user.get("name"),email:window.user.get("email")},r.checkedOut=!0,r.checkedOutByMe=!0,t.removeClass("btn-info").addClass("btn-danger").html("Check in"),e.updateTotalEffort()}}(this)).error(function(){return function(t){var e;return e=Errors.fromResponse(t),e.renderToAlert()}}(this))},n.prototype.updateTotalEffort=function(){var t,e,n,r,s,i;for(t=0,s=this.tasks,n=0,r=s.length;r>n;n++)e=s[n],(null!=(i=e.checkedOutBy)?i.id:void 0)===window.user.id&&(t+=+e.effort);return $("#total_effort").html(t.toFixed(1)),this.sprintGraph.data(this.sprintHistory.concat([[this.sprintEnd,0,0,t]])).render()},n.prototype.toggleShowCompleted=function(t){var e;return e=$(t.target),e.hasClass("active")?(e.removeClass("btn-success"),this.$el.addClass("hide-completed")):(e.addClass("btn-success"),this.$el.removeClass("hide-completed"))},n.prototype.showCompletedTasks=function(){var t;return t=$("#show_completed_tasks"),t.addClass("active"),t.addClass("btn-success"),this.$el.removeClass("hide-completed")},n.prototype.confirmLockSprint=function(){var t;if(!this.locked)return t=$('<div class="modal hide" tabindex="-1">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Lock Sprint</h3>\n  </div>\n  <div class="modal-body">\n    Once you lock a Sprint, you will be unable to add or remove tasks.\n  </div>\n  <div class="modal-footer">\n    <button class="btn" data-dismiss="modal">Back away slowly</button>\n    <button id="confirm_lock_sprint" class="btn btn-danger" data-dismiss="modal">\n      <i class="fa fa-lock" /> Lock It!\n    </button>\n  </div>\n</div>').modal(),t.on("hidden",function(){return t.remove()}),$("#confirm_lock_sprint").click(_.bind(this.lockSprint,this))},n.prototype.lockSprint=function(){return $.put("/sprints/"+this.sprintId+"/lock").success(function(t){return function(){return t.locked=!0,t.showAsLocked()}}(this))},n.prototype.showAsLocked=function(){return this.$el.removeClass("edit-mode"),$("#lock_sprint_button").attr("disabled","disabled").addClass("active").removeClass("btn-danger").html('<i class="fa fa-lock" /> Locked'),$("td.task-remove").remove()},n}(this.ShowSprintView)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.EditTicketView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.ticket=this.options.ticket},n.prototype.render=function(){var t;return this.$el.find(".editable").pseudoHover(),this.$summary=this.$el.find("#ticket_summary"),this.$description=this.$el.find("#ticket_description"),t=this.$description.find("textarea"),$(window).resize(function(e){return function(){return t.css({height:e.$description.parent().height()-61})}}(this)),t.css({height:this.$description.parent().height()-61}),this.$el.find(".ticket-state").pseudoHover().click(function(t){return function(e){var n;return n=$(e.target).hasClass("open")?"close":"reopen",t.ticket[n]().success(function(t){return $(e.target).removeClass("hover").toggleClass("open",!t.closedAt).toggleClass("closed",!!t.closedAt)})}}(this)),this.$summary.find(".show").click(function(t){return function(e){var n;return n=$(e.target).closest(".editable"),n.addClass("in-edit"),n.find("input").val(t.ticket.get("summary")).focus().select(),n.find("input").blur(function(){var t;return t=$(e.target),n=t.closest(".editable"),n.removeClass("in-edit")})}}(this)),this.$description.find(".show").click(function(t){return function(e){var n;return n=$(e.target).closest(".editable"),n.addClass("in-edit"),n.find("textarea").val(t.ticket.get("description")).focus().select()}}(this)),this.$summary.find("input").keydown(function(t){return function(e){var n,r;return 27===e.keyCode&&(r=$(e.target),n=r.closest(".editable"),n.removeClass("in-edit")),13===e.keyCode?(r=$(e.target),t.ticket.save({summary:r.val()}),n=r.closest(".editable"),n.removeClass("in-edit"),n.find(".show").html(t.ticket.get("summary"))):void 0}}(this)),this.$description.find('button[type="reset"]').click(function(t){var e,n;return t.preventDefault(),n=$(t.target),e=n.closest(".editable"),e.removeClass("in-edit")}),this.$description.find('button[type="submit"]').click(function(e){return function(n){var r;return n.preventDefault(),t=e.$description.find("textarea"),e.ticket.save({description:t.val()}),r=t.closest(".editable"),r.removeClass("in-edit"),r.find(".show").html(App.mdown(e.ticket.get("description")))}}(this))},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.FindOrCreateTicketView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="find-or-create-ticket",n.prototype.initialize=function(){return this.template=HandlebarsTemplates["tickets/find_or_create"],this.typeaheadTemplate=HandlebarsTemplates["tickets/typeahead"],this.tickets=this.options.tickets,this.addTicket=this.options.addTicket,this.createTicket=this.options.createTicket,this.ticketTracker=this.options.ticketTracker},n.prototype.render=function(){var t,e,n,r;return this.$el.html(this.template()),e=this.typeaheadTemplate,n=this,t=this.$el.find("#find_or_create_ticket").attr("autocomplete","off").typeahead({source:this.tickets,matcher:function(t){return~t.summary.toLowerCase().indexOf(this.query.toLowerCase())||~t.projectTitle.toLowerCase().indexOf(this.query.toLowerCase())||~t.number.toString().toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){return n.suggestions=t,n.$el.toggleClass("no-suggestions",0===t.length),t},highlighter:function(t){var n,r;return n=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=new RegExp("("+n+")","ig"),t.summary.replace(r,function(t,e){return"<strong>"+e+"</strong>"}),e({summary:t.summary.replace(r,function(t,e){return"<strong>"+e+"</strong>"}),number:t.number.toString().replace(r,function(t,e){return"<strong>"+e+"</strong>"})})}}).keyup(function(){return n.$el.toggleClass("has-content",$(this).val().length>0)}),t.data("typeahead").render=function(t){var e;return e=$(t).map(function(t){return function(e,n){return e=$(t.options.item).attr("data-value",n.id),e.find("a").html(t.highlighter(n)),e[0]}}(this)),e.first().addClass("active"),this.$menu.html(e),this},r=function(e){return t.prop("disabled",!0),e().success(function(){return t.prop("disabled",!1).val("").focus()}).error(function(e){var r;return t.prop("disabled",!1).focus(),r=Errors.fromResponse(e),r.missingCredentials||r.invalidCredentials?App.promptForCredentialsTo(n.ticketTracker):r.renderToAlert()})},t.data("typeahead").select=function(){var t,e;return this.hide(),t=this.$menu.find(".active").attr("data-value"),e=_.detect(n.tickets,function(e){return+e.id===+t}),r(function(){return n.addTicket(e)})},this.$el.find("form").submit(function(e){return function(n){return n.preventDefault(),t.prop("disabled",!0),r(function(){return e.createTicket(t.val())})}}(this)),t.focus()},n}(Backbone.View)}.call(this),function(){this.KeyboardShortcutsModal=function(){function t(){this.template=HandlebarsTemplates.keyboard_shortcuts,this.shortcuts=[{keys:["n","t"],name:"New Ticket"},{keys:["R","t"],name:"Refresh Tickets"},{keys:["G"],name:"Go to..."},{keys:["g","p"],name:"Go to Projects"},{keys:["g","q"],name:"Go to Pull Requests"},{keys:["g","i"],name:"Go to ITSMs"},{keys:["g","t","r"],name:"Go to Testing Report"},{keys:["g","n","t"],name:"Go to New Ticket"},{keys:["g","u"],name:"Go to Users"},{keys:["?"],name:"Keyboard shortcuts"}]}return t.prototype.show=function(){var t;return Houston.trackEvent("showed-keyboard-shortcuts"),t=$(this.template({shortcuts:this.shortcuts})).modal(),t.on("hidden",function(){return t.remove()})},t}()}.call(this),function(){this.NewTicketModal=function(){function t(t){this.slug=t.slug,this.color=t.color,this.options=t,this.template=HandlebarsTemplates["new_ticket/modal"]}return t.prototype.show=function(){var t;return this.$modal=$(this.template({color:this.color})).modal(),this.$modal.on("hidden",function(t){return function(){return t.$modal.remove(),t.options.onClose?t.options.onClose():void 0}}(this)),t=$.get("/projects/"+this.slug+"/tickets/new"),t.success(function(t){return function(e){var n,r;return n=_.extend(e,t.options),n.onCreate&&(n.onCreate=function(e){return t.options.onCreate(e,t.$modal)}),r=new NewTicketView(n),r.render(),$("#reset_ticket").click(function(e){return e.preventDefault(),t.$modal.modal("hide")})}}(this))},t}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.NewTicketView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.FEATURE_DESCRIPTION="### Make sure that\n - ",n.prototype.BUG_DESCRIPTION="### Steps to Test\n - \n\n### What happens\n - \n\n### What should happen\n - ",n.prototype.TYPES=["bug","feature","chore","enhancement"],n.prototype.events={"click #reset_ticket":"resetNewTicket","click #create_ticket":"createNewTicket"},n.prototype.initialize=function(){var t,e;return this.$el=$("#new_ticket_view"),this.$el.html(HandlebarsTemplates["new_ticket/form"]()),this.project=this.options.project,this.tickets=new Tickets(this.options.tickets),this.LABELS=this.options.labels,this.TAGS=this.TYPES.map(function(t){return"["+t+"]"}),this.TAG_MATCHER="\\[("+this.TYPES.join("|")+")\\]",this.renderSuggestion=HandlebarsTemplates["new_ticket/suggestion"],this.$suggestions=$("#ticket_suggestions"),this.$summary=$("#ticket_summary"),this.options.type&&this.$summary.val("["+this.options.type+"] "),this.lastSearch="",this.options.antecedents&&(e="### Antecedents\n"+function(){var e,n,r,s;for(r=this.options.antecedents,s=[],e=0,n=r.length;n>e;e++)t=r[e],s.push(" - "+t);return s}.call(this).join("\n"),$("#ticket_description").val(e),this.showNewTicket({animate:!1})),Mousetrap.bindScoped("#ticket_summary, #ticket_description","mod+enter",function(t){return function(){return t.$el.find(":focus").length>0?t.$el.find("#create_ticket").click():void 0}}(this))},n.prototype.render=function(){var t,e,n,r;return t=_.bind(this.onTicketSummaryChange,this),this.$summary.keydown(function(t){return function(e){return 13===e.keyCode&&(e.preventDefault(),t.showNewTicket(),$("#ticket_description").focus()),9===e.keyCode?(e.preventDefault(),t.$summary.putCursorAtEnd()):void 0}}(this)),this.$summary.keyup(t),this.$summary.change(t),$("#ticket_description").focus(function(t){return function(){return t.$el.attr("data-mode","description")}}(this)),e=this,n=/\] *([^:]*)/,r=/^([^\]]*)(\]|$)/,this.$summary.attr("autocomplete","off").typeahead({source:function(t){var s,i,a;return a=this.$element.getCursorPosition(),s=t.indexOf("]"),i=t.indexOf(":"),-1===s||s>=a?(this.tquery=t.match(r)[1].toLowerCase(),this.mode="type",e.TAGS):s>0&&(-1===i||i>=a)?(this.lquery=t.match(n)[1],this.lquery=new RegExp("\\b"+this.lquery,"i"),this.mode="label",e.LABELS):s>0&&i>0?(this.mode="summary",[]):(this.mode="",[])},updater:function(t){return"type"===this.mode?(e.autocompleteDescriptionFor(t),this.$element.val().replace(/^[^\]]*(\] ?|$)?/,t+" ")):"label"===this.mode?this.$element.val().replace(/\] ?[^:]*(: ?|$)/,"] "+t+": "):void 0},matcher:function(t){return"type"===this.mode?~t.toLowerCase().indexOf(this.tquery):"label"===this.mode?this.lquery.test(t):!1}}),$("#ticket_summary").focus().putCursorAtEnd(),this.onTicketSummaryChange()},n.prototype.onTicketSummaryChange=function(){var t,e,n,r;if(this.$summary.is(":focus"))return e=this.$summary.val(),RegExp(""+this.TAG_MATCHER).test(e)?RegExp(""+this.TAG_MATCHER+"(.*):").test(e)?(this.$el.attr("data-mode","summary"),(t=e.match(RegExp(""+this.TAG_MATCHER+"(.*)")))?(r=t[0],n=t[1],e=t[2],this.nextSearch=e,this.updateSuggestions()):void 0):(this.$el.attr("data-mode","label"),this.$suggestions.empty()):(this.$el.attr("data-mode","type"),this.$suggestions.empty())},n.prototype.updateSuggestions=function(){var t,e,n;return this.lastSearch!==this.nextSearch?(this.lastSearch=this.nextSearch,e=this.tickets.search(this.nextSearch),t=function(){var t,r,s;for(s=[],t=0,r=e.length;r>t;t++)n=e[t],s.push(this.renderSuggestion(n.toJSON()));return s}.call(this),this.$suggestions.empty().append(t)):void 0},n.prototype.resetNewTicket=function(t){return null!=t&&t.preventDefault(),this.$summary.val(""),this.$suggestions.empty(),$("#ticket_description").val(""),this.$el.attr("data-mode","type"),this.hideNewTicket(),this.$summary.focus()},n.prototype.createNewTicket=function(t){var e,n;return null!=t&&t.preventDefault(),e=this.$el.serializeObject(),this.$el.disable(),n=$.post("/projects/"+this.project.slug+"/tickets",e),n.complete(function(t){return function(){return t.$el.enable()}}(this)),n.success(function(t){return function(e){return t.tickets.push(e),t.resetNewTicket(),alertify.success('Ticket <a href="'+e.ticketUrl+'" target="_blank">#'+e.number+"</a> was created"),t.$el.enable(),t.options.onCreate&&t.options.onCreate(e),$(document).trigger("ticket:create",[e])}}(this)),n.error(function(t){return function(e){var n;return n=Errors.fromResponse(e),n.missingCredentials||n.invalidCredentials?App.promptForCredentialsTo(t.project.ticketTrackerName):n.oauthLocation?App.oauth(n.oauthLocation):n.renderToAlert()}}(this))},n.prototype.showNewTicket=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.animate)?n:!0,$("#ticket_suggestions").hide(),e?$(".new-ticket-full").slideDown(200,function(){return $("#ticket_description").autosize()}):($(".new-ticket-full").show(),$("#ticket_description").autosize())},n.prototype.hideNewTicket=function(){return $(".new-ticket-full").slideUp(200,function(){return $("#ticket_suggestions").show()})},n.prototype.autocompleteDescriptionFor=function(t){return $("#ticket_description").val(this.defaultDescriptionFor(t)).trigger("autosize.resize")},n.prototype.defaultDescriptionFor=function(t){switch(t){case"[feature]":return this.FEATURE_DESCRIPTION;case"[bug]":return this.BUG_DESCRIPTION;default:return""}},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.ProblemsView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.project=this.options.project,this.problems=this.options.problems,this.template=HandlebarsTemplates["problems/index"],this.renderProblem=HandlebarsTemplates["problems/show"],Handlebars.registerPartial("problem",this.renderProblem),$("#show_completed_exceptions").click(_.bind(this.toggleShowCompleted,this))},n.prototype.render=function(){return this.refresh(),$("#problems").on("click","tr",_.bind(this.toggleCheckbox,this)),$("#problems").on("click",":checkbox",_.bind(this.styleRow,this)),$("#merge_exceptions").click(_.bind(this.mergeExceptions,this)),$("#unmerge_exceptions").click(_.bind(this.unmergeExceptions,this)),$("#delete_exceptions").click(_.bind(this.deleteExceptions,this)),$("#exceptions table").tablesorter({headers:{2:{sorter:"timestamp"},3:{sorter:"timestamp"}}}),$("#exceptions").on("click",".btn-new-ticket",function(t){return function(e){var n,r,s,i,a;return n=$(e.target),n.attr("disabled","disabled"),r=n.closest(".exception"),i=r.attr("data-token"),a=r.attr("data-url"),(s=_.find(t.problems,function(t){return t.url===a}))?App.showNewTicket({type:"bug",antecedents:["Errbit: "+i],onClose:function(){return n.removeAttr("disabled")},onCreate:function(e,n){return n.modal("hide"),s.ticketId=e.id,s.ticketUrl=e.url,s.ticketNumber=e.number,t.refresh()}}):void 0}}(this))},n.prototype.refresh=function(){return $("#problems").html(this.template({problems:this.problems})),this.updateProblemCount()},n.prototype.updateProblemCount=function(){return $("#problem_count").html($(".exception:not(.has-ticket)").length)},n.prototype.toggleCheckbox=function(t){var e,n;if(!_.include(["A","INPUT","BUTTON","TEXTAREA"],t.target.nodeName))return n=$(t.target).closest(".exception"),e=n.find(":checkbox"),e.prop("checked",!e.prop("checked")),n.toggleClass("selected",e.is(":checked"))},n.prototype.styleRow=function(t){var e,n;return e=$(t.target),n=e.closest(".exception"),n.toggleClass("selected",e.is(":checked"))},n.prototype.mergeExceptions=function(){var t,e;return t=this.selectedProblems(),t.length<2?this.alert("#merge_exceptions","You must select at least two problems to merge"):(e=$.post("/projects/"+this.project+"/exceptions/merge_several",{problems:t}),e.success(function(){return window.location.reload()}),e.error(function(t){return function(e){return t.alert("#merge_exceptions",e.responseText)}}(this)))},n.prototype.unmergeExceptions=function(){var t,e;return t=this.selectedProblems(),t.length<2?this.alert("#unmerge_exceptions","You must select at least one problem to unmerge"):(e=$.post("/projects/"+this.project+"/exceptions/merge_several",{problems:t}),e.success(function(){return window.location.reload()}),e.error(function(t){return function(e){return t.alert("#unmerge_exceptions",e.responseText)}}(this)))},n.prototype.deleteExceptions=function(){var t,e;return t=this.selectedProblems(),t.length<2?this.alert("#delete_exceptions","You must select at least one problem to delete"):(e=$.post("/projects/"+this.project+"/exceptions/merge_several",{problems:t}),e.success(function(){return window.location.reload()}),e.error(function(t){return function(e){return t.alert("#delete_exceptions",e.responseText)}}(this)))},n.prototype.selectedProblems=function(){return $("#problems_form").serializeObject()["problems[]"]||[]},n.prototype.alert=function(t,e){return $(t).attr("data-content",e).attr("data-trigger","manual").attr("data-placement","top").popover("show").blur(function(){return $(this).popover("hide")})},n.prototype.toggleShowCompleted=function(t){var e;return e=$(t.target),e.hasClass("active")?(e.removeClass("btn-success"),$("#exceptions").addClass("hide-completed")):(e.addClass("btn-success"),$("#exceptions").removeClass("hide-completed"))},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.ReportsView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.render=function(){return this.$el.html('<h3>Queue Size and Ticket Age</h3>\n<div id="queue_age" class="graph"></div>\n\n<h3>Cycle Time (days)</h3>\n<div id="cycle_time" class="graph"></div>\n\n<h3>Time-to-Release (days)</h3>\n<div id="time_to_release" class="graph"></div>\n\n<h3>Time-to-First-Test (hours)</h3>\n<div id="time_to_first_test" class="graph"></div>'),$.getJSON("/reports/queue-age"+window.location.search,function(t){return(new Houston.StackedAreaGraph).selector("#queue_age").labels(["0-3wks","3wks\u20133mos","3-9mos","9mos\u20132yrs","> 2yrs"]).colors(["rgb(31, 119, 180)","rgb(71, 48, 129)","rgb(175, 76, 143)","rgb(236, 148, 52)","rgb(243, 210, 35)"]).data(t.data).addLine(t.line).render()}),$.getJSON("/reports/cycle-time"+window.location.search,function(t){return(new Houston.StackedAreaGraph).selector("#cycle_time").labels(["cycle time"]).data(t).render()}),$.getJSON("/reports/time-to-release"+window.location.search,function(t){return(new Houston.StackedAreaGraph).selector("#time_to_release").labels(["time-to-close","time-to-release"]).data(t).render()}),$.getJSON("/reports/time-to-first-test"+window.location.search,function(t){return(new Houston.StackedAreaGraph).selector("#time_to_first_test").labels(["time-to-test"]).data(t).render()})},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.TestingNoteView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.tagName="li",n.prototype.className="testing-note",n.prototype.events={"click .edit-note":"edit","click .destroy-note":"destroy","click .btn-cancel":"cancel","click :radio":"changeVerdict"},n.prototype.initialize=function(){return this.isInEditMode=!1,this.renderTestingNote=HandlebarsTemplates["testing_notes/show"],this.renderEditTestingNote=HandlebarsTemplates["testing_notes/edit"],$(this.el).delegate("form","submit",_.bind(this.commit,this))},n.prototype.render=function(){var t,e;return t=$(this.el),t.attr("id","testing_note_"+this.model.get("id")),e=this.isInEditMode?this.renderEditTestingNote:this.renderTestingNote,t.html(e(_.extend(this.model.toJSON(),{editable:this.isEditable(),tester:"Tester"===window.user.get("role")}))),t.attr("class","testing-note "+this.model.get("verdict")),this.model.get("byTester")&&t.addClass("by-tester"),this},n.prototype.isEditable=function(){return this.model.get("userId")===window.userId||window.user.get("admin")},n.prototype.edit=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),this.isEditable()&&!this.isInEditMode&&(this.isInEditMode=!0,this.render(),this.trigger("edit:begin",this)),this},n.prototype.commit=function(t){var e,n,r;return t&&(t.preventDefault(),t.stopImmediatePropagation()),this.isInEditMode&&(e=$(this.el).find("form"),e.disable().find(".btn-primary").html('<i class="fa fa-spinner fa-spin"></i> Saving...'),n=e.serializeObject(),r=this.model.previousAttributes(),this.model.save(n,{success:function(t){return function(){return t.isInEditMode=!1,t.render(),t.trigger("edit:commit",t,t.model)}}(this),error:function(t){return function(n,s){var i;return e.enable().find(".btn-primary").html("Save"),t.model.set(r,{silent:!0}),i=Errors.fromResponse(s),(i.missingCredentials||i.invalidCredentials)&&App.promptForCredentialsTo("Unfuddle"),i.renderToAlert()}}(this)})),this},n.prototype.changeVerdict=function(){var t;return t=this.$el.find(':radio[name="verdict"]:checked').val()||"none",this.$el.attr("class","testing-note by-tester "+t)},n.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),this.isInEditMode&&(this.$el.attr("class","testing-note "+this.model.get("verdict")),this.isInEditMode=!1,this.render(),this.trigger("edit:cancel",this)),this},n.prototype.destroy=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),this.model.destroy({success:function(t){return function(){return t.trigger("destroy",t,t.model)}}(this)}),this},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.TestingReportView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.initialize=function(){return this.tickets=this.options.tickets,this.projectsCanCloseTicketsFor=this.options.projectsCanCloseTicketsFor,this.tickets.bind("reset",_.bind(this.render,this)),this.expander=new TableRowExpander,this.tickets.bind("destroy",function(){return function(){return $("table.testing-report-table").trigger("update")}}(this)),this.render()},n.prototype.render=function(){var t;return this.$el.empty(),t=this.tickets.map(function(t){return function(e){var n;return n=new TestingTicketView({ticket:e,canClose:_.include(t.projectsCanCloseTicketsFor,e.get("projectId"))}),t.$el.appendView(n),n}}(this)),this.expander.setupForViews(t),window.userId&&$("[data-tester-id="+window.userId+"]").addClass("current-tester"),$("table.testing-report-table").tablesorter({headers:{4:{sorter:"text"}}})},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};window.TestingTicketView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.tagName="tr",n.prototype.className="ticket",n.prototype.events={"click .close-button":"closeTicket","click .reopen-button":"reopenTicket","click a.ticket-set-priority":"setPriority"},n.prototype.initialize=function(){return this.ticket=this.options.ticket,this.canClose=this.options.canClose,this.testingNotes=this.ticket.testingNotes(),this.renderTicket=HandlebarsTemplates["testing_report/ticket"],this.renderTicketDescription=HandlebarsTemplates["testing_report/description"],this.renderTesterVerdict=HandlebarsTemplates["testing_report/verdict"],this.renderNewTestingNote=HandlebarsTemplates["testing_notes/new"],Handlebars.registerPartial("testerVerdict",this.renderTesterVerdict),this.numColumns=window.testers.length+1,this.viewInEdit=null},n.prototype.render=function(){var t,e;return e=this.ticket.toJSON(),t=$(this.el),t.attr("id","ticket_"+this.ticket.id),e.canClose=this.canClose,e.testerVerdicts=this.ticket.testerVerdicts(),e.verdict=this.ticket.verdict(),e.passing="Passing"===e.verdict,e.failing="Failing"===e.verdict,t.html(this.renderTicket(e)),t.addClass("ticket-priority-"+e.priority),t.toggleClass("failing",e.failing),t.toggleClass("passing",e.passing),t.find(".close-button").toggleClass("btn-success",e.passing),this},n.prototype.renderExpandedRow=function(){return this.$testingNotes=this.renderTestingNotes()},n.prototype.renderTestingNotes=function(){var t,e,n,r,s;return n="ticket_"+this.ticket.get("id")+"_testing_notes",s=this.ticket.toJSON(),s.colspan=this.numColumns,e=$(this.renderTicketDescription(s)),this.$el.after(e),t=e.find("ol.testing-notes"),this.ticket.activityStream().each(function(e){return function(n){return n.constructor===TestingNote?t.appendView(e.viewForTestingNote(n)):n.constructor===Commit?t.appendView(e.viewForCommit(n)):void 0}}(this)),window.userId&&(r={projectSlug:this.ticket.get("projectSlug"),ticketId:this.ticket.get("id"),tester:"Tester"===window.user.get("role"),developer:"Developer"===window.user.get("role")},t.append(this.renderNewTestingNote(r)),e.find("form#new_testing_note").submit(_.bind(this.createTestingNote,this)),e.find('form#new_testing_note :radio[name="verdict"]').click(function(){return function(){var t;return t=e.find('form#new_testing_note :radio[name="verdict"]:checked').val()||"none",e.find(".testing-note.new").attr("class","testing-note new by-tester "+t)}}(this)),e.find(".btn-post-and-reset").click(_.bind(this.createTestingNoteAndResetTicket,this))),t},n.prototype.beginEditTestingNote=function(t){return window.console.log("beginEditTestingNote",t,this.viewInEdit,this),this.viewInEdit&&this.viewInEdit!==t&&this.viewInEdit.commit(),this.viewInEdit=t},n.prototype.cancelEditTestingNote=function(){return this.viewInEdit=null},n.prototype.commitEditTestingNote=function(){return this.viewInEdit=null,this.renderTesterVerdicts(),this.trigger("testing_note:refresh")},n.prototype.destroyTestingNote=function(t,e){return this.testingNotes.remove(e),$(t.el).remove(),this.renderTesterVerdicts()},n.prototype.viewForTestingNote=function(t){var e;return e=new TestingNoteView({model:t}),e.on("edit:begin",_.bind(this.beginEditTestingNote,this)),e.on("edit:cancel",_.bind(this.cancelEditTestingNote,this)),e.on("edit:commit",_.bind(this.commitEditTestingNote,this)),e.on("destroy",_.bind(this.destroyTestingNote,this)),e},n.prototype.viewForCommit=function(t){return new CommitView({model:t})},n.prototype.addTestingNote=function(t){var e;return this.testingNotes.add(t),this.$testingNotes?(e=this.viewForTestingNote(t),e.render(),$(e.el).insertBefore(this.$testingNotes.find(".testing-note.new")).highlight(),this.renderTesterVerdicts()):void 0},n.prototype.renderTesterVerdicts=function(){return this.render()},n.prototype.createTestingNote=function(t){var e,n,r;return t.preventDefault(),e=$(t.target).closest("form"),n=e.serializeObject(),r=new TestingNote({ticketId:this.ticket.get("id")}),e.disable(),r.save(n,{success:function(t){return function(){return $(".alert").remove(),e.closest(".testing-note.new").attr("class","testing-note new by-tester"),e.reset(),t.addTestingNote(r),t.trigger("testing_note:refresh")}}(this),error:function(){return function(t,e){var n;return n=Errors.fromResponse(e),(n.missingCredentials||n.invalidCredentials)&&App.promptForCredentialsTo("Unfuddle"),n.renderToAlert()}}(this),complete:function(){return e.enable()}})},n.prototype.createTestingNoteAndResetTicket=function(t){var e;return e={lastReleaseAt:new Date},this.ticket.save(e,{success:function(t){return function(){return console.log("updated lastReleaseAt",arguments),t.render()}}(this),error:function(){return function(){return console.log("failed to update lastReleaseAt",arguments)}}(this)}),this.createTestingNote(t)},n.prototype.closeTicket=function(t){var e;return t.preventDefault(),e=$(t.target),this.collapse(),e.hasClass("btn-success")||confirm("Are you suuuure? The ticket's not passing...")?(this.$el.addClass("deleting"),this.$el.find("button").attr("disabled","disabled"),this.ticket.destroy({url:"/tickets/"+this.ticket.id+"/close",wait:!0,success:function(t){return function(){return t.remove()}}(this),error:function(t){return function(e,n){return t.$el.removeClass("deleting"),t.$el.find("button").removeAttr("disabled"),App.showErrorMessage("Unable to close ticket",n.responseText)}}(this)})):void 0},n.prototype.reopenTicket=function(t){var e;return t.preventDefault(),e=$(t.target),this.collapse(),confirm("Are you sure you want to REOPEN this ticket?")?(this.$el.addClass("deleting"),this.$el.find("button").attr("disabled","disabled"),this.ticket.destroy({url:"/tickets/"+this.ticket.id+"/reopen",wait:!0,success:function(t){return function(){return t.remove()
}}(this),error:function(t){return function(e,n){return t.$el.removeClass("deleting"),t.$el.find("button").removeAttr("disabled"),App.showErrorMessage("Unable to close ticket",n.responseText)}}(this)})):void 0},n.prototype.setPriority=function(t){var e,n;return e=$(t.target),n=e.data("priority"),this.$el.hasClass("ticket-priority-"+n)&&(n="normal"),this.$el.removeClass("ticket-priority-low ticket-priority-normal ticket-priority-high"),this.$el.addClass("ticket-priority-"+n),this.ticket.save({priority:n})},n}(Backbone.View)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var s in n)t.call(n,s)&&(e[s]=n[s]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};this.TicketModalView=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.className="modal ticket-modal",n.prototype.initialize=function(){var t;return this.project=this.options.project,this.tickets=this.options.tickets,this.ticketNumbers=this.tickets?this.tickets.pluck("number"):this.options.ticketNumbers,this.onClose=this.options.onClose,this.edit=null!=(t=this.options.edit)?t:!1,this.renderTaskView=this.options.taskView,this.template=HandlebarsTemplates["tickets/modal"],this.renderTicket=HandlebarsTemplates["tickets/show"],this.$el.attr("tabindex",-1),this.ticketNumbers?(this.count=this.ticketNumbers.length,Mousetrap.bind("up",function(t){return function(e){var n;return t.$el.is(":visible")?(e.preventDefault(),e.stopImmediatePropagation(),null!=(n=t.taskView)&&"function"==typeof n.saveChanges&&n.saveChanges(),t.show(t.prev(),!0)):void 0}}(this)),Mousetrap.bind("down",function(t){return function(e){var n;return t.$el.is(":visible")?(e.preventDefault(),e.stopImmediatePropagation(),null!=(n=t.taskView)&&"function"==typeof n.saveChanges&&n.saveChanges(),t.show(t.next(),!1)):void 0}}(this))):void 0},n.prototype.show=function(t,e){return t?this.tickets?this.showTicket(this.tickets.findWhere({number:t}),e):$.get("/projects/"+this.project+"/tickets/by_number/"+t+".json",function(t){return function(n){return t.showTicket(new Ticket(n),e)}}(this)):void 0},n.prototype.showTicket=function(t,e){return this.ticket=t,this.number=t.get("number"),this.ticketNumbers&&(this.index=_.indexOf(this.ticketNumbers,this.number)),this.render(e)},n.prototype.render=function(t){var e,n;return this.$el.html(this.template({ticket:this.renderTicket(this.ticket.toJSON()),index:this.index+1,count:this.count})),e=this.$el.modal(),$("body").addClass("noscroll"),e.find("[title]").tooltip({placement:"bottom"}),this.taskView="function"==typeof this.renderTaskView?this.renderTaskView(this.$el.find(".task-frame")[0],this.ticket,{prev:!!t}):void 0,this.$el.find(".ticket-body").toggleClass("show-task-frame",!!this.taskView),null!=(n=this.taskView)&&n.render(),console.log("edit",this.edit,document.getElementById("ticket_view")),this.edit&&(this.editView=new EditTicketView({el:document.getElementById("ticket_view"),ticket:this.ticket}).render()),e.on("hidden",function(t){return e[0]===t.target&&(e.remove(),$("body").removeClass("noscroll"),this.onClose)?this.onClose():void 0})},n.prototype.next=function(){return this.index>=this.count-1?this.ticketNumbers[0]:this.ticketNumbers[this.index+1]},n.prototype.prev=function(){return this.index<=0?this.ticketNumbers[this.count-1]:this.ticketNumbers[this.index-1]},n}(Backbone.View)}.call(this),$.tablesorter.defaults.cssAsc="sort-asc",$.tablesorter.defaults.cssDesc="sort-desc";