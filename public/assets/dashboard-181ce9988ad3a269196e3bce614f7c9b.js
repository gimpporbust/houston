(function(){var t=[].slice;window.App={meta:function(t){return $('meta[name="'+t+'"]').attr("value")},serverDateFormat:d3.time.format("%Y-%m-%d"),parseDate:function(t){return _.isString(t)?this.serverDateFormat.parse(t.slice(0,10)):t},checkRevision:function(t){var e;return this.clientRevision||(this.clientRevision=App.meta("revision")),e=t.getResponseHeader("X-Revision"),e?this.clientRevision!==e?(window.console.log("[App.checkRevision] reloading ('"+this.clientRevision+"' != '"+e+"')"),window.location.reload()):void 0:window.console.log("[App.checkRevision] serverRevision is blank")},relativeRoot:function(){var t;return t=App.meta("relative_url_root"),/\/$/.test(t)&&(t=t.substring(0,t.length-1)),t},mdown:function(t){var e,r;return t?(e=new Markdown.Converter,r=e.makeHtml(t),App.emojify(r)):""},emojify:function(t){return t.replace(/:([a-z0-9\+\-_]+):/,function(t,e){return _.contains(Emoji.names,e)?'<img alt="'+e+'" height="20" width="20" src="'+App.relativeRoot()+"/images/emoji/"+e+'.png" class="emoji" />':t})},formatTicketSummary:function(t){var e,r,n;return t=Handlebars.Utils.escapeExpression(t),n=t.split(":",2),e=n[0],r=n[1],r?"<b>"+e+":</b>"+r:t},formatPercent:function(t){return(100*t).toFixed(0)+"%"},showErrorMessage:function(t,e){var r,n;return n='<div class="modal hide">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+t+'</h3>\n  </div>\n  <div class="modal-body">\n    '+e+'\n  </div>\n  <div class="modal-footer">\n    <button type="button" data-dismiss="modal">Close</button>\n  </div>\n</div>',r=$(n).modal(),r.on("hidden",function(){return $(this).remove()})},uploadComplete:function(){var e,r;return r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],$(r).trigger("upload:complete",e)},toggleFullScreen:function(){var t,e;return t=$("body"),t.keypress(function(e){return 102===e.which&&(t.toggleClass("full-screen"),window.location.hash=t.attr("class"),window.kanbanObj)?kanbanObj.setKanbanHeight():void 0}),t.keydown(function(e){return 27===e.keyCode&&(t.removeClass("full-screen"),window.location.hash="",window.kanbanObj)?kanbanObj.setKanbanHeight():void 0}),e=window.location.hash.substring(1).split(" "),_.include(e,"full-screen")&&(t.toggleClass("full-screen"),window.kanbanObj)?kanbanObj.setKanbanHeight():void 0},showNewTicket:function(t){var e,r,n;return null==t&&(t={}),e=$(".project-banner"),n=e.attr("data-project-slug"),r=e.attr("data-project-color"),n&&0===$("#new_ticket_modal").length?new NewTicketModal(_.extend(t,{slug:n,color:r})).show():void 0},oauth:function(t){return window.location=t},truncateDate:function(t){return t.setHours?(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t):t},truncatedDate:function(t){return t=new Date(t.getTime()),App.truncateDate(t)},showTicket:function(t,e,r){var n,a;return e=e||$(".project-banner").attr("data-project-slug"),t&&e?(r||(r={}),r.project=e,n=r.$context||$("#tickets"),a=_.map(n.find('[rel="ticket"]:visible'),function(t){return+$(t).attr("data-number")}),a.length>0&&(r.ticketNumbers=a),window.user&&(r.edit=window.user.canEditTickets()),new TicketModalView(r).show(t)):!1},promptForCredentialsTo:function(t){var e,r;return r='<div class="modal hide fade">\n  <form class="form-horizontal" id="user_credentials_form">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n      <h3>Log in to '+t+'</h3>\n    </div>\n    <div class="modal-body">\n      <div class="control-group">\n        <label class="control-label" for="user_credentials_login">Login</label>\n        <div class="controls">\n          <input type="text" id="user_credentials_login">\n        </div>\n      </div>\n      <div class="control-group">\n        <label class="control-label" for="user_credentials_password">Password</label>\n        <div class="controls">\n          <input type="password" id="user_credentials_password">\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button type="submit" class="btn btn-primary">Sign in</button>\n    </div>\n  </form>\n</div>',e=$(r).modal(),e.on("hidden",function(){return $(this).remove()}),e.on("shown",function(){return function(){var r;return r=e.find('input[type="text"]:first').select(),e.find('button[type="submit"]').click(function(r){var n;return r.preventDefault(),n=$.put("/credentials",{service:t,login:e.find("#user_credentials_login").val(),password:e.find("#user_credentials_password").val()}),n.success(function(){return e.modal("hide")}),n.error(function(t){var e;return e=$("#user_credentials_form"),e.find(".alert").remove(),Errors.fromResponse(t).renderToAlert().prependTo(e)})})}}(this))},trackEvent:function(t){return Intercom?Intercom("trackEvent",t):void 0}},this.Houston=this.App}).call(this),function(){Houston.BurndownChart=function(){function t(){this._margin={top:40,right:0,bottom:24,left:50},this._selector="#graph",this._height=260,this.$el=$(this._selector),this._totalEffort=0,this._lines={},this._regressions={},$(window).resize(function(t){return function(e){return e.target===window?t.render():void 0}}(this))}return t.prototype.margin=function(t){return this._margin=t,this},t.prototype.height=function(t){return this._height=t,this},t.prototype.selector=function(t){return this._selector=t,this.$el=$(this._selector),this},t.prototype.dateFormat=function(t){return this._dateFormat=t,this},t.prototype.days=function(t){return this.days=t,this},t.prototype.totalEffort=function(t){return this._totalEffort=t,this},t.prototype.addLine=function(t,e){return this._lines[t]=e,this},t.prototype.addRegression=function(t,e){return this._regressions[t]=e,this},t.prototype.render=function(){var t,e,r,n,a,s,i,o,l,u,c,d,p,h,f,m,b,g,v,y,k,w;if(p=this.$el.width()||960,a=this._height,n=p-this._margin.left-this._margin.right,r=a-this._margin.top-this._margin.bottom,d=this._totalEffort,!d){g=this._lines;for(u in g)t=g[u],t[0]&&t[0].effort>d&&(d=t[0].effort)}e=this._dateFormat||d3.time.format("%A"),v=d3.extent(this.days),o=v[0],i=v[1],h=d3.scale.ordinal().rangePoints([0,n],.75).domain(this.days),m=d3.scale.linear().range([r,0]).domain([0,d]),l=d3.scale.linear().range([h(o),h(i)]).domain([o,i]),f=d3.svg.axis().scale(h).orient("bottom").tickFormat(function(){return function(t){return e(new Date(t))}}(this)),b=d3.svg.axis().scale(m).orient("left"),s=d3.svg.line().interpolate("linear").x(function(t){return h(t.day)}).y(function(t){return m(t.effort)}),this.$el.empty(),c=d3.select(this._selector).append("svg").attr("width",p).attr("height",a).append("g").attr("transform","translate("+this._margin.left+","+this._margin.top+")"),c.append("g").attr("class","x axis").attr("transform","translate(0,"+r+")").call(f),c.append("g").attr("class","y axis").call(b).append("text").attr("transform","rotate(-90)").attr("y",-45).attr("x",160-a).attr("dy",".71em").attr("class","legend").style("text-anchor","end").text("Points Remaining"),y=this._regressions;for(u in y)t=y[u],c.append("line").attr("class","regression regression-"+u).attr("x1",l(t.x1)).attr("y1",m(t.y1)).attr("x2",l(t.x2)).attr("y2",m(t.y2));k=this._lines,w=[];for(u in k)t=k[u],c.append("path").attr("class","line line-"+u).attr("d",s(t)),c.selectAll("circle.circle-"+u).data(t).enter().append("circle").attr("class","circle-"+u).attr("r",5).attr("cx",function(t){return h(t.day)}).attr("cy",function(t){return m(t.effort)}),w.push(c.selectAll(".effort-remaining.effort-"+u).data(t).enter().append("text").text(function(t){return t.effort}).attr("class","effort-remaining effort-"+u).attr("transform",function(t){return"translate("+(h(t.day)+5.5)+", "+(m(t.effort)-10)+") rotate(-75)"}));return w},t}()}.call(this),function(){window.Duration=function(){function t(t,e){this.n=t,this.units=e}return t.prototype.after=function(e){return t.transformDateBy(e,+this.n,this.units)},t.prototype.before=function(e){return t.transformDateBy(e,-this.n,this.units)},t.prototype.ago=function(){return this.before(new Date)},t.prototype.fromNow=function(){return this.after(new Date)},t.prototype.valueOf=function(){switch(this.units){case"minutes":return this.n*t.MINUTE;case"hours":return this.n*t.HOUR;case"days":return this.n*t.DAY;case"weeks":return this.n*t.WEEK;case"months":return this.n*t.AVGMONTH;case"years":return this.n*t.AVGYEAR}},t}(),Duration.prototype.from=Duration.prototype.after,Duration.MINUTE=6e4,Duration.HOUR=60*Duration.MINUTE,Duration.DAY=24*Duration.HOUR,Duration.WEEK=7*Duration.DAY,Duration.AVGMONTH=4.3452380952381*Duration.WEEK,Duration.AVGYEAR=365*Duration.DAY,Duration.transformDateBy=function(t,e,r){var n,a,s,i,o;switch(o=[t.getFullYear(),t.getMonth(),t.getDate()],i=o[0],s=o[1],n=o[2],r){case"minutes":return new Date(t.getTime()+e*Duration.MINUTE);case"hours":return new Date(t.getTime()+e*Duration.HOUR);case"days":return new Date(i,s,n+e);case"weeks":return new Date(i,s,n+7*e);case"months":return s+=e,a=new Date(i,s+1,0).getDate(),new Date(i,s,Math.min(n,a));case"years":return new Date(i+e,s,n)}},Number.prototype.minutes=function(){return new Duration(Number(this),"minutes")},Number.prototype.hours=function(){return new Duration(Number(this),"hours")},Number.prototype.days=function(){return new Duration(Number(this),"days")},Number.prototype.weeks=function(){return new Duration(Number(this),"weeks")},Number.prototype.months=function(){return new Duration(Number(this),"months")},Number.prototype.years=function(){return new Duration(Number(this),"years")},Number.prototype.minutes=Number.prototype.minutes,Number.prototype.hours=Number.prototype.hours,Number.prototype.day=Number.prototype.days,Number.prototype.week=Number.prototype.weeks,Number.prototype.month=Number.prototype.months,Number.prototype.year=Number.prototype.years}.call(this),function(){window.Errors=function(){function t(t){var e,r;401===t.status?"Missing Credentials"===t.getResponseHeader("X-Credentials")?this.missingCredentials=!0:"Invalid Credentials"===t.getResponseHeader("X-Credentials")?this.invalidCredentials=!0:"Oauth"===t.getResponseHeader("X-Credentials")?this.oauthLocation=t.getResponseHeader("Location"):(e=null!=(r=t.responseText)?r:"You are not authorized",this.errors={base:[e]}):this.errors=JSON.parse(t.responseText)}return t.prototype.renderToAlert=function(){var t,e,r,n;r=[],n=this.errors;for(t in n)e=n[t],r.push("base"===t?e[0]:""+t+" "+e[0]);return alertify.error(r.join(".\n"))},t}(),Errors.fromResponse=function(t){return new Errors(t)}}.call(this),function(){Handlebars.registerHelper("formatDuration",function(t){var e,r,n,a;return t<Duration.HOUR?(n=Math.floor(t/Duration.MINUTE),a=1===n?"minute":"minutes",""+n+" "+a):t<Duration.DAY?(r=Math.floor(t/Duration.HOUR),a=1===r?"hour":"hours",""+r+" "+a):(e=Math.floor(t/Duration.DAY),a=1===e?"day":"days",""+e+" "+a)}),Handlebars.registerHelper("formatDate",function(t){var e;return(e=d3.time.format("%a %b %-d"))(Date.create(t))}),Handlebars.registerHelper("formatDateWithYear",function(t){var e;return t?(e=d3.time.format('%b %-d <span class="year">%Y</span>'))(Date.create(t)):""}),Handlebars.registerHelper("formatDateWithYear2",function(t){var e;return t?(e=d3.time.format("%b %-d, %Y"))(Date.create(t)):""}),Handlebars.registerHelper("formatTime",function(t){var e;return e=d3.time.format("%a %b %-d, %Y %-I:%M%p"),e(Date.create(t)).replace(/[AP]M/,function(t){return t.toLowerCase()[0]})}),Handlebars.registerHelper("formatTimeAgo",function(t){return $.timeago(Date.create(t))}),Handlebars.registerHelper("markdown",function(t){return App.mdown(t)}),Handlebars.registerHelper("emojify",function(t){return App.emojify(t)}),Handlebars.registerHelper("classForAge",function(t){return t<6*Duration.HOUR?"infant":t<2*Duration.DAY?"child":t<7*Duration.DAY?"adult":t<4*Duration.WEEK?"senior":t<26*Duration.WEEK?"old":"ancient"}),Handlebars.registerHelper("radioButton",function(t,e,r,n,a){var s;return e=""+t+"_"+e+"_"+r+"_"+n,s='<input type="radio" id="'+e+'" name="'+r+'" value="'+n+'"',n===a&&(s+=' checked="checked"'),""+s+" />"}),Handlebars.registerHelper("formatTicketSummary",function(t){return App.formatTicketSummary(t)}),Handlebars.registerHelper("linkToCommit",function(t){var e;return e=t.sha.slice(0,8),t.linkTo?'<a href="'+t.linkTo+'" target="_blank">'+e+"</a>":e}),Handlebars.registerHelper("testerAvatar",function(t,e){var r,n;return n=window.testers.findByEmail(t),r="http://www.gravatar.com/avatar/"+MD5(t.toLowerCase().trim())+"?r=g&d=retro&s="+2*e,'<img src="'+r+'" width="'+e+'" height="'+e+'" rel="tooltip" title="'+n.get("name")+'" />'}),Handlebars.registerHelper("userAvatar",function(t){var e,r;return r=window.user,e="http://www.gravatar.com/avatar/"+MD5(r.get("email").toLowerCase().trim())+"?r=g&d=retro&s="+2*t,'<img src="'+e+'" width="'+t+'" height="'+t+'" rel="tooltip" title="'+r.get("name")+'" />'}),Handlebars.registerHelper("avatar",function(t,e,r){var n;return t?(n="http://www.gravatar.com/avatar/"+MD5(t.toLowerCase().trim())+"?r=g&d=retro&s="+2*e,r?'<img src="'+n+'" class="avatar" width="'+e+'" height="'+e+'" rel="tooltip" title="'+r+'" />':'<img src="'+n+'" class="avatar" width="'+e+'" height="'+e+'" />'):'<img width="'+e+'" height="'+e+'" />'}),Handlebars.registerHelper("ifEq",function(t,e,r){return t===e?r.fn(this):r.inverse(this)}),Handlebars.registerHelper("summarizeAntecedents",function(t){var e,r,n;e="",n=_.groupBy(t,function(t){return t.kind});for(r in n)t=n[r],e+=""+r+' <span class="badge">'+t.length+"</span>";return e}),Handlebars.registerPartial("sprintTask",function(t){return HandlebarsTemplates["sprints/task"](t)}),Handlebars.registerHelper("timelineDateRange",function(t,e){var r,n;return t?(r=(t-e)/Duration.DAY,r>=3?Handlebars.helpers.timelineDateAfterGap(e):_.inject(function(){n=[];for(var t=0;r>=0?r>t:t>r;r>=0?t++:t--)n.push(t);return n}.apply(this),function(e,r){return e+Handlebars.helpers.timelineDate((r+1).days().before(t))},"")):Handlebars.helpers.timelineDate(e)}),Handlebars.registerHelper("timelineDate",function(t){var e;return(e=d3.time.format('<div class="timeline-date">\n  <span class="weekday">%a</span>\n  <span class="month">%b</span>\n  <span class="day">%-d</span>\n  <span class="year">%Y</span>\n</div>'))(Date.create(t))}),Handlebars.registerHelper("timelineTime",function(t){var e;return e=d3.time.format('<span class="timeline-event-time">%-I:%M%p</span>'),e(Date.create(t)).replace(/[AP]M/,function(t){return t.toLowerCase()[0]})}),Handlebars.registerHelper("timelineDateAfterGap",function(t){return'<div class="timeline-date-gap"></div>'+Handlebars.helpers.timelineDate(t)}),Handlebars.registerHelper("timeline",function(t,e){var r,n,a,s,i,o;if(s=null,null==t&&(t=[]),t.length>0){for(a='<div class="timeline">',i=0,o=t.length;o>i;i++)n=t[i],r=App.truncateDate(Date.create(n.date||n.time)),a+=Handlebars.helpers.timelineDateRange(s,r),a+=e.fn(n),s=r;a+="</div>"}return a}),Handlebars.registerHelper("renderTaskWorker",function(t){return t.checkedOutByMe&&!t.historical&&t.open?'<button class="btn btn-danger check-out-button active" data-toggle="button">Check in</button>':t.checkedOutBy?Handlebars.helpers.avatar(t.checkedOutBy.email,24,t.checkedOutBy.firstName)+(" "+t.checkedOutBy.firstName):t.open?'<button class="btn btn-info check-out-button" data-toggle="button">Check out</button>':void 0}),Handlebars.registerHelper("renderTaskStatus",function(t){return t.released?'<i class="fa fa-paper-plane"></i> Released':t.committed?'<span class="octicon octicon-git-commit"></span> Committed':t.completed?t.historical?"Completed":'<a class="complete-task-button"></a> Completed':t.historical?"Open":'<a class="complete-task-button"></a> Open'})}.call(this),function(){$.tablesorter.addParser({id:"timestamp",is:function(){return!1},format:function(t,e,r){return $(r).attr("data-timestamp")},type:"text"}),$.tablesorter.addParser({id:"property",is:function(){return!1},format:function(t,e,r){return+$(r).attr("data-position")},type:"number"}),$.tablesorter.addParser({id:"attr",is:function(){return!1},format:function(t,e,r){return $(r).attr("data-sort-by")},type:"text"})}.call(this),function(){$.fn.extend({pseudoHover:function(){return $(this).addClass("unhovered").hover(function(){return $(this).addClass("hover").removeClass("unhovered")},function(){return $(this).removeClass("hover").addClass("unhovered")})},appendView:function(t){var e;return e=this.append(t.el),t.render(),e},prependView:function(t){var e;return e=this.prepend(t.el),t.render(),e},serializeObject:function(){var t,e,r;return r={},t=this.serializeArray(),e=/\[\]$/,$.each(t,function(){return r[this.name]&&e.test(this.name)?(r[this.name].push||(r[this.name]=[r[this.name]]),r[this.name].push(this.value||"")):r[this.name]=this.value||""}),r},highlight:function(){return $(this).effect("highlight",{},1500)},reset:function(){return $(this).each(function(){return this.reset()})},disable:function(){return $(this).find('input[type="submit"], input[type="reset"], button').attr("disabled","disabled").end()},enable:function(){return $(this).find('input[type="submit"], input[type="reset"], button').removeAttr("disabled").end()},getCursorPosition:function(){var t,e,r;return(t=this.get(0))?t.selectionStart?t.selectionStart:document.selection?(t.focus(),e=document.selection.createRange(),r=document.selection.createRange().text.length,e.moveStart("character",-t.value.length),e.text.length-r):void 0:void 0},appendAsAlert:function(){var t,e;return t=$("#body .alert"),e=$(this),t.length>0?$("#body .alert").fadeOut({complete:function(){return $(this).remove(),e.prependTo($("#body")).alert()}}):e.prependTo($("#body")).alert()},putCursorAtEnd:function(){return this.each(function(){var t;return $(this).focus(),this.setSelectionRange?(t=2*$(this).val().length,this.setSelectionRange(t,t)):$(this).val($(this).val())})}}),$.extend({put:function(t,e,r,n){return jQuery.isFunction(e)&&(r=e,e={}),e=e||{},e._method="put",jQuery.post(t,e,r,n)},destroy:function(t,e,r,n){return jQuery.isFunction(e)&&(r=e,e={}),e=e||{},e._method="delete",jQuery.post(t,e,r,n)}})}.call(this),function(){this.Refresher=function(){function t(){this._rate=1e3,this._interval=3e5,this.width=42,this.height=this.width,this.innerRadius=this.width/3,this.outerRadius=this.width/2,this._container="body"}var e;return e=2*Math.PI,t.prototype.rate=function(t){return this._rate=t,this},t.prototype.container=function(t){return this._container=t,this},t.prototype.interval=function(t){return this._interval=t,this},t.prototype.callback=function(t){return this._callback=t,this},t.prototype.render=function(){var t,r;return this.arc=d3.svg.arc().innerRadius(this.innerRadius).outerRadius(this.outerRadius).startAngle(0),r=d3.select(this._container).append("svg").attr("width",this.width).attr("height",this.height).attr("class","refresher").append("g").attr("transform","translate("+this.width/2+","+this.height/2+")"),t=r.append("path").datum({endAngle:e}).attr("class","refresher-track").attr("d",this.arc),this.foreground=r.append("path").datum({endAngle:0}).attr("class","refresher-path").attr("d",this.arc),this.tween=_.bind(this.arcTween,this),setInterval(_.bind(this.tick,this),this._rate),this.start()},t.prototype.start=function(){return this._startTime=+new Date,this._endTime=this._startTime+this._interval,this.foreground.datum({endAngle:0}).attr("d",this.arc).transition().duration(this._rate).ease("linear").call(this.tween,this._rate/this._interval*e)},t.prototype.tick=function(){var t,r;return r=+new Date,r>this._endTime?(this._callback&&this._callback(),this.start()):(t=(r+this._rate-this._startTime)/this._interval,this.foreground.transition().duration(this._rate).ease("linear").call(this.tween,t*e))},t.prototype.arcTween=function(t,e){return t.attrTween("d",function(t){return function(r){var n;return n=d3.interpolate(r.endAngle,e),function(e){return r.endAngle=n(e),t.arc(r)}}}(this))},t}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var a in r)t.call(r,a)&&(e[a]=r[a]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};this.TicketsView=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.supportsSorting=!0,r.prototype.initialize=function(){return this.tickets=this.options.tickets,this.project=this.options.project,this.supportsSorting&&this.$el.on("click","th",function(t){return function(e){return t.toggleSort($(e.target).closest("th"))}}(this)),this.$el.on("click",'[rel="ticket"]',function(t){return function(e){var r;return e.preventDefault(),e.stopImmediatePropagation(),r=+$(e.target).closest('[rel="ticket"]').attr("data-number"),App.showTicket(r,t.project,t.showTicketModal(r))}}(this)),this.options.infiniteScroll?new InfiniteScroll({load:function(t){return function(){var e,r;return e=new $.Deferred,t.offset+=50,e.resolve(t.template({tickets:function(){var t,e,n,a;for(n=this.tickets.slice(this.offset,this.offset+50),a=[],t=0,e=n.length;e>t;t++)r=n[t],a.push(r.toJSON());return a}.call(t)})),e}}(this)}):void 0},r.prototype.renderTickets=function(){return this.render()},r.prototype.showTicketModal=function(){return{}},r.prototype.toggleSort=function(t){var e,r;return t.hasClass("sort-asc")?t.removeClass("sort-asc").addClass("sort-desc"):t.hasClass("sort-desc")?t.removeClass("sort-desc").addClass("sort-asc"):(this.$el.find(".sort-asc, .sort-desc").removeClass("sort-asc sort-desc"),t.addClass("sort-desc")),e=t.attr("data-attribute"),r=t.hasClass("sort-desc")?"desc":"asc",this.performSort(e,r)},r.prototype.performSort=function(t,e){return this.tickets=this.tickets.orderBy(t,e),this.renderTickets()},r}(Backbone.View)}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/edit"]=Handlebars.template({1:function(){return"<hr />\n"},3:function(){return'<div>\n  <form id="add_task_form">\n    <input type="text" placeholder="Enter a task number or summary" id="add_task" />\n    <i class="fa fa-spinner fa-spin fa-large"></i>\n    <hr />\n  </form>\n</div>\n'},5:function(){return'      <td class="task-remove"></td>\n'},7:function(t,e,r,n){var a;return a=this.invokePartial(r.sprintTask,"","sprintTask",t,void 0,e,r,n),null!=a?a:""},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,r,n){var a,s,i,o="function",l=e.helperMissing,u=e.blockHelperMissing,c='<div id="graph" class="burndown-chart callout callout-banner"></div>\n\n<div class="score score-medium sprint-total-effort">\n  <p class="positive" style="position: relative; top: -14px;"><!-- make it fit -->\n    <span class="score-count" id="sprint_history"></span>\n    <span class="score-label">Average: <span id="average_effort"></span></span>\n  </p>\n  <p class="positive">\n    <span class="score-count" id="total_effort"></span>\n    <span class="score-label">Checked Out</span>\n  </p>\n</div>\n\n<h2 class="light">Tasks</h2>\n\n<button class="btn btn-danger" id="lock_sprint_button">\n  <i class="fa fa-lock" />\n  Lock Sprint\n</button>\n<a class="btn" id="show_completed_tasks" data-toggle="button">Show Completed Tickets</a>\n\n';return a=e["if"].call(t,null!=t?t.historical:t,{name:"if",hash:{},fn:this.program(1,n),inverse:this.program(3,n),data:n}),null!=a&&(c+=a),c+='\n<table class="table table-sortable table-milestone-tasks">\n  <thead>\n    <tr>\n      <th class="task-effort">Effort</th>\n      <th class="task-project sort-desc">Project</th>\n      <th class="task-summary">Summary</th>\n      <th class="task-status">Status</th>\n      <th class="task-worker">Worker</th>\n',a=e.unless.call(t,null!=t?t.locked:t,{name:"unless",hash:{},fn:this.program(5,n),inverse:this.noop,data:n}),null!=a&&(c+=a),c+='    </tr>\n  </thead>\n  <tbody id="tasks">\n    ',s=null!=(s=e.tasks||(null!=t?t.tasks:t))?s:l,i={name:"tasks",hash:{},fn:this.program(7,n),inverse:this.noop,data:n},a=typeof s===o?s.call(t,i):s,e.tasks||(a=u.call(t,a,i)),null!=a&&(c+=a),c+"\n  </tbody>\n</table>"},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sprints/edit"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/show"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div id="graph" class="burndown-chart"></div>'},useData:!0}),this.HandlebarsTemplates["sprints/show"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/task"]=Handlebars.template({1:function(){return"task-released"},3:function(){return"task-committed"},5:function(){return"task-completed"},7:function(t,e,r,n){var a,s='  <td class="task-remove">\n    ';return a=e["if"].call(t,null!=t?t.open:t,{name:"if",hash:{},fn:this.program(8,n),inverse:this.noop,data:n}),null!=a&&(s+=a),s+"\n  </td>\n"},8:function(){return'<a class="remove-task-button remove-button"></a>'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,r,n){var a,s,i,o="function",l=e.helperMissing,u=e.blockHelperMissing,c=this.escapeExpression,d='<tr class="task ';return s=null!=(s=e.released||(null!=t?t.released:t))?s:l,i={name:"released",hash:{},fn:this.program(1,n),inverse:this.noop,data:n},a=typeof s===o?s.call(t,i):s,e.released||(a=u.call(t,a,i)),null!=a&&(d+=a),d+=" ",s=null!=(s=e.committed||(null!=t?t.committed:t))?s:l,i={name:"committed",hash:{},fn:this.program(3,n),inverse:this.noop,data:n},a=typeof s===o?s.call(t,i):s,e.committed||(a=u.call(t,a,i)),null!=a&&(d+=a),d+=" ",s=null!=(s=e.completed||(null!=t?t.completed:t))?s:l,i={name:"completed",hash:{},fn:this.program(5,n),inverse:this.noop,data:n},a=typeof s===o?s.call(t,i):s,e.completed||(a=u.call(t,a,i)),null!=a&&(d+=a),d+='" data-task-id="'+c((s=null!=(s=e.id||(null!=t?t.id:t))?s:l,typeof s===o?s.call(t,{name:"id",hash:{},data:n}):s))+'">\n  <td class="task-effort">\n    '+c((s=null!=(s=e.effort||(null!=t?t.effort:t))?s:l,typeof s===o?s.call(t,{name:"effort",hash:{},data:n}):s))+'\n  </td>\n  <td class="task-project"><b class="bubble '+c((s=null!=(s=e.projectColor||(null!=t?t.projectColor:t))?s:l,typeof s===o?s.call(t,{name:"projectColor",hash:{},data:n}):s))+'"></b> '+c((s=null!=(s=e.projectTitle||(null!=t?t.projectTitle:t))?s:l,typeof s===o?s.call(t,{name:"projectTitle",hash:{},data:n}):s))+'</td>\n  <td class="task-summary">\n    '+c((s=null!=(s=e.description||(null!=t?t.description:t))?s:l,typeof s===o?s.call(t,{name:"description",hash:{},data:n}):s))+'\n    <a href="'+c((s=null!=(s=e.ticketUrl||(null!=t?t.ticketUrl:t))?s:l,typeof s===o?s.call(t,{name:"ticketUrl",hash:{},data:n}):s))+'" target="_blank" rel="ticket" data-number="'+c((s=null!=(s=e.ticketNumber||(null!=t?t.ticketNumber:t))?s:l,typeof s===o?s.call(t,{name:"ticketNumber",hash:{},data:n}):s))+'" data-project="'+c((s=null!=(s=e.projectSlug||(null!=t?t.projectSlug:t))?s:l,typeof s===o?s.call(t,{name:"projectSlug",hash:{},data:n}):s))+'">[#'+c((s=null!=(s=e.shorthand||(null!=t?t.shorthand:t))?s:l,typeof s===o?s.call(t,{name:"shorthand",hash:{},data:n}):s))+']</a>\n  </td>\n  <td class="task-status">',a=(e.renderTaskStatus||t&&t.renderTaskStatus||l).call(t,t,{name:"renderTaskStatus",hash:{},data:n}),null!=a&&(d+=a),d+='</td>\n  <td class="task-worker">',a=(e.renderTaskWorker||t&&t.renderTaskWorker||l).call(t,t,{name:"renderTaskWorker",hash:{},data:n}),null!=a&&(d+=a),d+="</td>\n",a=e.unless.call(t,null!=t?t.locked:t,{name:"unless",hash:{},fn:this.program(7,n),inverse:this.noop,data:n}),null!=a&&(d+=a),d+"</tr>"},useData:!0}),this.HandlebarsTemplates["sprints/task"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sprints/typeahead"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,r,n){var a,s,i="function",o=e.helperMissing,l=this.escapeExpression,u='<span class="task-typeahead-sequence">'+l((s=null!=(s=e.sequence||(null!=t?t.sequence:t))?s:o,typeof s===i?s.call(t,{name:"sequence",hash:{},data:n}):s))+'</span>\n<span class="task-typeahead-project">\n  <b class="bubble '+l((s=null!=(s=e.projectColor||(null!=t?t.projectColor:t))?s:o,typeof s===i?s.call(t,{name:"projectColor",hash:{},data:n}):s))+'"></b>\n  <span class="project-title">';return s=null!=(s=e.projectTitle||(null!=t?t.projectTitle:t))?s:o,a=typeof s===i?s.call(t,{name:"projectTitle",hash:{},data:n}):s,null!=a&&(u+=a),u+='</span>\n</span>\n<span class="task-typeahead-summary">',s=null!=(s=e.description||(null!=t?t.description:t))?s:o,a=typeof s===i?s.call(t,{name:"description",hash:{},data:n}):s,null!=a&&(u+=a),u+='</span>\n<span class="task-typeahead-number">#',s=null!=(s=e.shorthand||(null!=t?t.shorthand:t))?s:o,a=typeof s===i?s.call(t,{name:"shorthand",hash:{},data:n}):s,null!=a&&(u+=a),u+"</span>"},useData:!0}),this.HandlebarsTemplates["sprints/typeahead"]}.call(this),function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var a in r)t.call(r,a)&&(e[a]=r[a]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};this.ShowSprintView=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.initialize=function(){return this.sprintId=this.options.sprintId,this.sprintStart=this.options.sprintStart,this.template=HandlebarsTemplates["sprints/show"],this.tasks=_.sortBy(this.options.sprintTasks,function(t){return t.projectTitle}),r.__super__.initialize.apply(this,arguments)},r.prototype.setStart=function(t){return this.sprintStart=t,this},r.prototype.setTasks=function(t){return this.tasks=_.sortBy(t,function(t){return t.projectTitle}),this},r.prototype.render=function(){var t,e,r,n;if(!this.tasks)return this;for(n=this.tasks,e=0,r=n.length;r>e;e++)t=n[e],t.open=!t.completed;return this.$el.html(this.template()),this.renderBurndownChart(this.tasks)},r.prototype.renderBurndownChart=function(t){var e,r,n,a,s,i,o,l,u,c,d,p,h,f,m,b,g,v;for(m=new Date,u=this.sprintStart,c=1..day().before(u),i=function(){var t,e;for(e=[],l=t=0;5>=t;l=++t)e.push(l.days().after(c));return e}(),r={},a={},b=0,g=0,v=t.length;v>g;g++)d=t[g],o=+d.effort,d.completed&&(s=App.truncateDate(App.parseDate(d.completedAt)),u>s&&(o=0),a[s]=(a[s]||0)+o,d.firstCommitAt||(r[s]=(r[s]||0)+o)),d.committed&&(s=App.truncateDate(App.parseDate(d.firstCommitAt)),u>s&&(o=0),r[s]=(r[s]||0)+o),b+=o;return window.completedByDay=a,p=function(t){var e,r,n,a;for(r=b,e=[{day:c,effort:Math.ceil(r)}],n=0,a=i.length;a>n;n++)s=i[n],s>m||(r-=t[s]||0,e.push({day:s,effort:Math.ceil(r)}));return e},e=p(r),n=p(a),h=e.last().effort,f=n.last().effort,(new Houston.BurndownChart).days(i).totalEffort(b).addLine("committed",e).addLine("completed",n).render(),$("body").toggleClass("green",b>0&&(0===h||0===f))},r}(Backbone.View)}.call(this);